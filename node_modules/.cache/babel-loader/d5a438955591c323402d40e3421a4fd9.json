{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import*as api from\"../api/api\";import{GET_API}from\"../constants/actions\";export function getAPI(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result,apiResult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(params);_context.next=3;return api.getAPI(params);case 3:result=_context.sent;apiResult=JSON.parse(result.slice(16,result.length-1));console.log(apiResult);// console.log(apiResult.JSonDataFinal);\n// console.log(apiResult.JSonDataFinal[params.areatype][\"Total\"]);\n// console.log(params.category, params.areatype);\ndispatch({type:GET_API,payload:{address:params.address,feature:params.category,scope:params.areatype,scores:apiResult.JSonDataFinal[params.areatype][\"Total\"],request:params.address+\" \\n\"+params.category+\" \\n\"+params.areatype}});case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();}","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/actions/api.js"],"names":["api","GET_API","getAPI","params","dispatch","console","log","result","apiResult","JSON","parse","slice","length","type","payload","address","feature","category","scope","areatype","scores","JSonDataFinal","request"],"mappings":"2SAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,YAArB,CACA,OAASC,OAAT,KAAwB,sBAAxB,CAEA,MAAO,SAASC,CAAAA,MAAT,EAA6B,IAAbC,CAAAA,MAAa,2DAAJ,EAAI,CAClC,+FAAO,iBAAOC,QAAP,uIACLC,OAAO,CAACC,GAAR,CAAYH,MAAZ,EADK,sBAEgBH,CAAAA,GAAG,CAACE,MAAJ,CAAWC,MAAX,CAFhB,QAECI,MAFD,eAKDC,SALC,CAKWC,IAAI,CAACC,KAAL,CAAWH,MAAM,CAACI,KAAP,CAAa,EAAb,CAAiBJ,MAAM,CAACK,MAAP,CAAgB,CAAjC,CAAX,CALX,CAMLP,OAAO,CAACC,GAAR,CAAYE,SAAZ,EACA;AACA;AACA;AACAJ,QAAQ,CAAC,CACPS,IAAI,CAAEZ,OADC,CAEPa,OAAO,CAAE,CACPC,OAAO,CAAEZ,MAAM,CAACY,OADT,CAEPC,OAAO,CAAEb,MAAM,CAACc,QAFT,CAGPC,KAAK,CAAEf,MAAM,CAACgB,QAHP,CAIPC,MAAM,CAAEZ,SAAS,CAACa,aAAV,CAAwBlB,MAAM,CAACgB,QAA/B,EAAyC,OAAzC,CAJD,CAKPG,OAAO,CACLnB,MAAM,CAACY,OAAP,CAAiB,KAAjB,CAAyBZ,MAAM,CAACc,QAAhC,CAA2C,KAA3C,CAAmDd,MAAM,CAACgB,QANrD,CAFF,CAAD,CAAR,CAVK,sDAAP,+DAsBD","sourcesContent":["import * as api from \"../api/api\";\r\nimport { GET_API } from \"../constants/actions\";\r\n\r\nexport function getAPI(params = {}) {\r\n  return async (dispatch) => {\r\n    console.log(params);\r\n    const result = await api.getAPI(params);\r\n\r\n    \r\n    var apiResult = JSON.parse(result.slice(16, result.length - 1));\r\n    console.log(apiResult);\r\n    // console.log(apiResult.JSonDataFinal);\r\n    // console.log(apiResult.JSonDataFinal[params.areatype][\"Total\"]);\r\n    // console.log(params.category, params.areatype);\r\n    dispatch({\r\n      type: GET_API,\r\n      payload: {\r\n        address: params.address,\r\n        feature: params.category,\r\n        scope: params.areatype,\r\n        scores: apiResult.JSonDataFinal[params.areatype][\"Total\"],\r\n        request:\r\n          params.address + \" \\n\" + params.category + \" \\n\" + params.areatype,\r\n      },\r\n    });\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}