{"ast":null,"code":"import\"antd/es/card/style\";import _Card from\"antd/es/card\";import _slicedToArray from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import IndividualScore from\"../../widgets/WidgetBox/IndividualScore/IndividualScore\";import ComparisonScore from\"../../widgets/WidgetBox/ComparisonScore/ComparisonScore\";import Map from\"../../widgets/WidgetBox/Map/Map\";import NoResult from\"../../widgets/WidgetBox/noResult\";import GoogleAddressComplete from\"../../../temporary/GoogleAddressComplete\";import{MyContext}from\"../../../temporary/context-manager\";import{getWidget}from\"../../../actions/widget\";import{useDispatch,useMappedState}from\"redux-react-hook\";var mapStateWidget=function mapStateWidget(state){return state.widget;};var operationTabList=[{key:\"individual_scores\",tab:/*#__PURE__*/React.createElement(\"span\",null,\"Individual Scores\")},{key:\"comparison_scores\",tab:/*#__PURE__*/React.createElement(\"span\",null,\"Comparison Scores\")},{key:\"map\",tab:/*#__PURE__*/React.createElement(\"span\",null,\"Map\")}];var WidgetBoxForUser=function WidgetBoxForUser(props){var dispatch=useDispatch();var features=props.features,featureScore=props.featureScore,checkedView=props.checkedView,scope=props.scope,addressInput=props.addressInput;var _useState=useState(addressInput),_useState2=_slicedToArray(_useState,2),address=_useState2[0],setAddress=_useState2[1];var _useState3=useState(featureScore),_useState4=_slicedToArray(_useState3,2),featureScores=_useState4[0],setFeatureScore=_useState4[1];var _useMappedState=useMappedState(mapStateWidget),widgetResult=_useMappedState.widgetResult;//   const { address } = widgetResult;\nvar _useState5=useState(\"individual_scores\"),_useState6=_slicedToArray(_useState5,2),tabKey=_useState6[0],setTabKey=_useState6[1];var onTabChange=function onTabChange(key){setTabKey(key);};var renderChildrenByTabKey=function renderChildrenByTabKey(tabKey){switch(tabKey){case\"map\":return/*#__PURE__*/React.createElement(\"div\",null,JSON.stringify(featureScores)===\"{}\"?/*#__PURE__*/React.createElement(NoResult,null):/*#__PURE__*/React.createElement(Map,{featuresStatus:features,scope:scope,addressInput:address}));case\"comparison_scores\":return/*#__PURE__*/React.createElement(\"div\",null,JSON.stringify(featureScores)===\"{}\"?/*#__PURE__*/React.createElement(NoResult,null):/*#__PURE__*/React.createElement(ComparisonScore,{featuresStatus:features,featureScore:featureScores,addressInput:address}));case\"individual_scores\":default:return/*#__PURE__*/React.createElement(\"div\",null,JSON.stringify(featureScores)===\"{}\"?/*#__PURE__*/React.createElement(NoResult,null):/*#__PURE__*/React.createElement(IndividualScore,{featuresStatus:features,featureScore:featureScores,checkedView:checkedView,addressInput:address}));}};var getFeatureScore=function getFeatureScore(widgetResult,scopeSelect){if(widgetResult===undefined){return widgetResult;}switch(scopeSelect){case\"quarterMile\":return widgetResult.scores[\"Quarter-Mile\"];case\"neighborhood\":return widgetResult.scores.Neighborhood;case\"block\":default:return widgetResult.scores.Block;}};useEffect(function(){dispatch(getWidget({address:address}));},[dispatch,address]);useEffect(function(){setFeatureScore(getFeatureScore(widgetResult,scope));},[widgetResult,scope]);// const getFeatureList = (featureList) => {\n//   if (featureList === []) {\n//     return featureList;\n//   }\n//   featureList.map((item) => {\n//     delete item.img_faded;\n//     delete item.img_new;\n//   });\n//   return featureList;\n// };\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(_Card,{title:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Customized Widget for\",\" \",/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"bold\"}},address))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MyContext.Provider,{value:{setAddress:setAddress}},/*#__PURE__*/React.createElement(GoogleAddressComplete,null)))),bordered:true,tabList:operationTabList,activeTabKey:tabKey,onTabChange:onTabChange,style:{minHeight:\"700px\"}},renderChildrenByTabKey(tabKey))));};export default WidgetBoxForUser;","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/pages/admin/component_of_control_panel/WidgetBoxForUser.js"],"names":["React","useEffect","useState","IndividualScore","ComparisonScore","Map","NoResult","GoogleAddressComplete","MyContext","getWidget","useDispatch","useMappedState","mapStateWidget","state","widget","operationTabList","key","tab","WidgetBoxForUser","props","dispatch","features","featureScore","checkedView","scope","addressInput","address","setAddress","featureScores","setFeatureScore","widgetResult","tabKey","setTabKey","onTabChange","renderChildrenByTabKey","JSON","stringify","getFeatureScore","scopeSelect","undefined","scores","Neighborhood","Block","fontWeight","minHeight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport IndividualScore from \"../../widgets/WidgetBox/IndividualScore/IndividualScore\";\r\nimport ComparisonScore from \"../../widgets/WidgetBox/ComparisonScore/ComparisonScore\";\r\nimport Map from \"../../widgets/WidgetBox/Map/Map\";\r\nimport NoResult from \"../../widgets/WidgetBox/noResult\";\r\nimport GoogleAddressComplete from \"../../../temporary/GoogleAddressComplete\";\r\nimport { MyContext } from \"../../../temporary/context-manager\";\r\nimport { getWidget } from \"../../../actions/widget\";\r\nimport { Card } from \"antd\";\r\nimport { useDispatch, useMappedState } from \"redux-react-hook\";\r\nconst mapStateWidget = (state) => state.widget;\r\n\r\nconst operationTabList = [\r\n  {\r\n    key: \"individual_scores\",\r\n    tab: <span>Individual Scores</span>,\r\n  },\r\n  {\r\n    key: \"comparison_scores\",\r\n    tab: <span>Comparison Scores</span>,\r\n  },\r\n  {\r\n    key: \"map\",\r\n    tab: <span>Map</span>,\r\n  },\r\n];\r\n\r\nconst WidgetBoxForUser = (props) => {\r\n  const dispatch = useDispatch();\r\n  const { features, featureScore, checkedView, scope, addressInput } = props;\r\n  const [address, setAddress] = useState(addressInput);\r\n  const [featureScores, setFeatureScore] = useState(featureScore);\r\n\r\n  const { widgetResult } = useMappedState(mapStateWidget);\r\n  //   const { address } = widgetResult;\r\n  const [tabKey, setTabKey] = useState(\"individual_scores\");\r\n\r\n  const onTabChange = (key) => {\r\n    setTabKey(key);\r\n  };\r\n\r\n  const renderChildrenByTabKey = (tabKey) => {\r\n    switch (tabKey) {\r\n      case \"map\":\r\n        return (\r\n          <div>\r\n            {JSON.stringify(featureScores) === \"{}\" ? (\r\n              <NoResult />\r\n            ) : (\r\n              <Map\r\n                featuresStatus={features}\r\n                scope={scope}\r\n                addressInput={address}\r\n              />\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      case \"comparison_scores\":\r\n        return (\r\n          <div>\r\n            {JSON.stringify(featureScores) === \"{}\" ? (\r\n              <NoResult />\r\n            ) : (\r\n              <ComparisonScore\r\n                featuresStatus={features}\r\n                featureScore={featureScores}\r\n                addressInput={address}\r\n              />\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      case \"individual_scores\":\r\n      default:\r\n        return (\r\n          <div>\r\n            {JSON.stringify(featureScores) === \"{}\" ? (\r\n              <NoResult />\r\n            ) : (\r\n              <IndividualScore\r\n                featuresStatus={features}\r\n                featureScore={featureScores}\r\n                checkedView={checkedView}\r\n                addressInput={address}\r\n              />\r\n            )}\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  const getFeatureScore = (widgetResult, scopeSelect) => {\r\n    if (widgetResult === undefined) {\r\n      return widgetResult;\r\n    }\r\n    switch (scopeSelect) {\r\n      case \"quarterMile\":\r\n        return widgetResult.scores[\"Quarter-Mile\"];\r\n\r\n      case \"neighborhood\":\r\n        return widgetResult.scores.Neighborhood;\r\n\r\n      case \"block\":\r\n      default:\r\n        return widgetResult.scores.Block;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getWidget({ address: address }));\r\n  }, [dispatch, address]);\r\n\r\n  useEffect(() => {\r\n    setFeatureScore(getFeatureScore(widgetResult, scope));\r\n  }, [widgetResult, scope]);\r\n\r\n  // const getFeatureList = (featureList) => {\r\n  //   if (featureList === []) {\r\n  //     return featureList;\r\n  //   }\r\n\r\n  //   featureList.map((item) => {\r\n  //     delete item.img_faded;\r\n  //     delete item.img_new;\r\n  //   });\r\n  //   return featureList;\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Card\r\n          title={\r\n            <>\r\n              <div>\r\n                <span>\r\n                  Customized Widget for{\" \"}\r\n                  <span style={{ fontWeight: \"bold\" }}>{address}</span>\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <MyContext.Provider value={{ setAddress }}>\r\n                  <GoogleAddressComplete />\r\n                </MyContext.Provider>\r\n              </div>\r\n            </>\r\n          }\r\n          bordered={true}\r\n          tabList={operationTabList}\r\n          activeTabKey={tabKey}\r\n          onTabChange={onTabChange}\r\n          style={{ minHeight: \"700px\" }}\r\n        >\r\n          {renderChildrenByTabKey(tabKey)}\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WidgetBoxForUser;\r\n"]},"metadata":{},"sourceType":"module"}