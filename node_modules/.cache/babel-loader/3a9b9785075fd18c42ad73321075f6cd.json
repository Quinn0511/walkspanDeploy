{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import*as api from\"../api/data\";import{GET_DATA}from\"../constants/actions\";export function getData(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result,res,array,jarray,score,areaname,latitude,longitude,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.getData(params);case 2:result=_context.sent;res=result.slice(34,result.length-1).toString().split(\"\\\\\").join(\"\").replace(\"[\",\"\").replace(\"]\",\"\");array=res.split(\"}\");jarray=[];score=[];areaname=[];latitude=[];longitude=[];for(i=0;i<10;i++){if(i===0){jarray[i]=JSON.parse(array[i]+\"}\");}else{jarray[i]=JSON.parse(array[i].slice(1,array[i].length-1)+\"\\\"}\");}score[i]=jarray[i]['Score'];areaname[i]=jarray[i]['Area Name'];latitude[i]=jarray[i]['Latitude'];longitude[i]=jarray[i]['Longitude'];}// console.log(jarray[0]);\ndispatch({type:GET_DATA,payload:{city:params.city,category:params.category,areatype:params.areatype,score:score,areaname:areaname,latitude:latitude,longitude:longitude}});case 12:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();}","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/actions/data.js"],"names":["api","GET_DATA","getData","params","dispatch","result","res","slice","length","toString","split","join","replace","array","jarray","score","areaname","latitude","longitude","i","JSON","parse","type","payload","city","category","areatype"],"mappings":"2SAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,aAArB,CACA,OAASC,QAAT,KAAyB,sBAAzB,CAEA,MAAO,SAASC,CAAAA,OAAT,EAA8B,IAAbC,CAAAA,MAAa,2DAAJ,EAAI,CACnC,+FAAO,iBAAOC,QAAP,wMACgBJ,CAAAA,GAAG,CAACE,OAAJ,CAAYC,MAAZ,CADhB,QACCE,MADD,eAGDC,GAHC,CAGKD,MAAM,CAACE,KAAP,CAAa,EAAb,CAAgBF,MAAM,CAACG,MAAP,CAAgB,CAAhC,EAAmCC,QAAnC,GAA8CC,KAA9C,CAAoD,IAApD,EAA0DC,IAA1D,CAA+D,EAA/D,EAAmEC,OAAnE,CAA2E,GAA3E,CAA+E,EAA/E,EAAmFA,OAAnF,CAA2F,GAA3F,CAA+F,EAA/F,CAHL,CAIDC,KAJC,CAIOP,GAAG,CAACI,KAAJ,CAAU,GAAV,CAJP,CAKDI,MALC,CAKQ,EALR,CAMDC,KANC,CAMO,EANP,CAODC,QAPC,CAOU,EAPV,CAQDC,QARC,CAQU,EARV,CASDC,SATC,CASW,EATX,CAUL,IAAQC,CAAR,CAAY,CAAZ,CAAcA,CAAC,CAAG,EAAlB,CAAqBA,CAAC,EAAtB,CAAyB,CACvB,GAAGA,CAAC,GAAK,CAAT,CAAW,CACTL,MAAM,CAACK,CAAD,CAAN,CAAYC,IAAI,CAACC,KAAL,CAAWR,KAAK,CAACM,CAAD,CAAL,CAAW,GAAtB,CAAZ,CACD,CAFD,IAGI,CACFL,MAAM,CAACK,CAAD,CAAN,CAAYC,IAAI,CAACC,KAAL,CAAWR,KAAK,CAACM,CAAD,CAAL,CAASZ,KAAT,CAAe,CAAf,CAAiBM,KAAK,CAACM,CAAD,CAAL,CAASX,MAAT,CAAkB,CAAnC,EAAwC,KAAnD,CAAZ,CACD,CACDO,KAAK,CAACI,CAAD,CAAL,CAAWL,MAAM,CAACK,CAAD,CAAN,CAAU,OAAV,CAAX,CACAH,QAAQ,CAACG,CAAD,CAAR,CAAcL,MAAM,CAACK,CAAD,CAAN,CAAU,WAAV,CAAd,CACAF,QAAQ,CAACE,CAAD,CAAR,CAAcL,MAAM,CAACK,CAAD,CAAN,CAAU,UAAV,CAAd,CACAD,SAAS,CAACC,CAAD,CAAT,CAAeL,MAAM,CAACK,CAAD,CAAN,CAAU,WAAV,CAAf,CACD,CACD;AACAf,QAAQ,CAAC,CACPkB,IAAI,CAAErB,QADC,CAEPsB,OAAO,CAAE,CACPC,IAAI,CAAErB,MAAM,CAACqB,IADN,CAEPC,QAAQ,CAAEtB,MAAM,CAACsB,QAFV,CAGPC,QAAQ,CAAEvB,MAAM,CAACuB,QAHV,CAIPX,KAAK,CAAEA,KAJA,CAKPC,QAAQ,CAAEA,QALH,CAMPC,QAAQ,CAAEA,QANH,CAOPC,SAAS,CAAEA,SAPJ,CAFF,CAAD,CAAR,CAvBK,uDAAP,+DAoCD","sourcesContent":["import * as api from \"../api/data\";\r\nimport { GET_DATA } from \"../constants/actions\";\r\n\r\nexport function getData(params = {}) {\r\n  return async (dispatch) => {\r\n    const result = await api.getData(params);\r\n\r\n    var res = result.slice(34,result.length - 1).toString().split(\"\\\\\").join(\"\").replace(\"[\",\"\").replace(\"]\",\"\");\r\n    var array = res.split(\"}\");\r\n    var jarray = [];\r\n    var score = [];\r\n    var areaname = [];\r\n    var latitude = [];\r\n    var longitude = [];\r\n    for(var i = 0;i < 10;i++){\r\n      if(i === 0){\r\n        jarray[i] = JSON.parse(array[i] + \"}\");\r\n      }\r\n      else{\r\n        jarray[i] = JSON.parse(array[i].slice(1,array[i].length - 1) + \"\\\"}\");\r\n      }\r\n      score[i] = jarray[i]['Score'];\r\n      areaname[i] = jarray[i]['Area Name'];\r\n      latitude[i] = jarray[i]['Latitude'];\r\n      longitude[i] = jarray[i]['Longitude'];\r\n    }\r\n    // console.log(jarray[0]);\r\n    dispatch({\r\n      type: GET_DATA,\r\n      payload: {\r\n        city: params.city,\r\n        category: params.category,\r\n        areatype: params.areatype,\r\n        score: score,\r\n        areaname: areaname,\r\n        latitude: latitude,\r\n        longitude: longitude,\r\n      },\r\n    });\r\n  };\r\n}"]},"metadata":{},"sourceType":"module"}