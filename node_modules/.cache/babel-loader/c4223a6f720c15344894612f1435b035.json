{"ast":null,"code":"var responseInterceptors=[{name:'formatResponse',success:function success(response){return response.data;}}];var requestInterceptors=[{name:'addHttpRequestHeader',success:function success(config){config.headers['Access-Control-Allow-Origin']='*';//config.headers['Authorization'] = `Bearer ${window.localStorage.getItem('personal-app-token')}`;\nreturn config;},fail:function fail(err){console.error('request error: ',err);return Promise.reject(err);}}];var interceptors={response:responseInterceptors,request:requestInterceptors};function doInstall(instance){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var type=options.type;interceptors[type].forEach(function(interceptor){var success=interceptor.success,fail=interceptor.fail;instance.interceptors[type].use(success,fail);});}export function install(instance){var option=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};doInstall(instance,{type:'response'});doInstall(instance,{type:'request'});}","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/utils/interceptors.js"],"names":["responseInterceptors","name","success","response","data","requestInterceptors","config","headers","fail","err","console","error","Promise","reject","interceptors","request","doInstall","instance","options","type","forEach","interceptor","use","install","option"],"mappings":"AAAA,GAAMA,CAAAA,oBAAoB,CAAG,CACzB,CACIC,IAAI,CAAE,gBADV,CAEIC,OAFJ,kBAEYC,QAFZ,CAEsB,CACd,MAAOA,CAAAA,QAAQ,CAACC,IAAhB,CACH,CAJL,CADyB,CAA7B,CASA,GAAMC,CAAAA,mBAAmB,CAAG,CACxB,CACIJ,IAAI,CAAE,sBADV,CAEIC,OAFJ,kBAEYI,MAFZ,CAEoB,CACZA,MAAM,CAACC,OAAP,CAAe,6BAAf,EAAgD,GAAhD,CACA;AACA,MAAOD,CAAAA,MAAP,CACH,CANL,CAOIE,IAPJ,eAOSC,GAPT,CAOc,CACNC,OAAO,CAACC,KAAR,CAAc,iBAAd,CAAiCF,GAAjC,EACA,MAAOG,CAAAA,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAP,CACH,CAVL,CADwB,CAA5B,CAeA,GAAMK,CAAAA,YAAY,CAAG,CACjBX,QAAQ,CAAEH,oBADO,CAEjBe,OAAO,CAAEV,mBAFQ,CAArB,CAKA,QAASW,CAAAA,SAAT,CAAmBC,QAAnB,CAA2C,IAAdC,CAAAA,OAAc,2DAAL,EAAK,IAC/BC,CAAAA,IAD+B,CACtBD,OADsB,CAC/BC,IAD+B,CAEvCL,YAAY,CAACK,IAAD,CAAZ,CACKC,OADL,CACa,SAACC,WAAD,CAAiB,IACdnB,CAAAA,OADc,CACImB,WADJ,CACdnB,OADc,CACLM,IADK,CACIa,WADJ,CACLb,IADK,CAEtBS,QAAQ,CAACH,YAAT,CAAsBK,IAAtB,EAA4BG,GAA5B,CAAgCpB,OAAhC,CAAyCM,IAAzC,EACH,CAJL,EAKH,CAED,MAAO,SAASe,CAAAA,OAAT,CAAiBN,QAAjB,CAAwC,IAAbO,CAAAA,MAAa,2DAAJ,EAAI,CAC3CR,SAAS,CAACC,QAAD,CAAW,CAChBE,IAAI,CAAE,UADU,CAAX,CAAT,CAGAH,SAAS,CAACC,QAAD,CAAW,CAChBE,IAAI,CAAE,SADU,CAAX,CAAT,CAGH","sourcesContent":["const responseInterceptors = [\r\n    {\r\n        name: 'formatResponse',\r\n        success(response) {\r\n            return response.data;\r\n        }\r\n    },\r\n];\r\n\r\nconst requestInterceptors = [\r\n    {\r\n        name: 'addHttpRequestHeader',\r\n        success(config) {\r\n            config.headers['Access-Control-Allow-Origin'] = '*';\r\n            //config.headers['Authorization'] = `Bearer ${window.localStorage.getItem('personal-app-token')}`;\r\n            return config;\r\n        },\r\n        fail(err) {\r\n            console.error('request error: ', err);\r\n            return Promise.reject(err);\r\n        }\r\n    }\r\n]\r\n\r\nconst interceptors = {\r\n    response: responseInterceptors,\r\n    request: requestInterceptors\r\n};\r\n\r\nfunction doInstall(instance, options= { }) {\r\n    const { type } = options;\r\n    interceptors[type]\r\n        .forEach((interceptor) => {\r\n            const { success, fail } = interceptor;\r\n            instance.interceptors[type].use(success, fail);\r\n        })\r\n}\r\n\r\nexport function install(instance, option = {}) {\r\n    doInstall(instance, {\r\n        type: 'response',\r\n    });\r\n    doInstall(instance, {\r\n        type: 'request',\r\n    });\r\n}"]},"metadata":{},"sourceType":"module"}