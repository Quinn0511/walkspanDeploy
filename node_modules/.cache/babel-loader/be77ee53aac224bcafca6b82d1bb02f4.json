{"ast":null,"code":"import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/notification/style\";import _notification from\"antd/es/notification\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import _slicedToArray from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import React,{useEffect,useState}from\"react\";import{postMessage}from\"../../actions/contact\";import{useDispatch,useMappedState}from\"redux-react-hook\";import styles from\"./Contact.module.less\";var TextArea=_Input.TextArea;var mapStateContact=function mapStateContact(state){return state.contact;};var mapStateProfile=function mapStateProfile(state){return state.user_profile;};var ContactForm=function ContactForm(){var dispatch=useDispatch();var _Form$useForm=_Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=useState(),_useState2=_slicedToArray(_useState,2),message_text=_useState2[0],setMessageText=_useState2[1];var _useMappedState=useMappedState(mapStateContact),PostContactMessageResult=_useMappedState.PostContactMessageResult;var _useMappedState2=useMappedState(mapStateProfile),getProfileResult=_useMappedState2.getProfileResult;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),fullName=_useState4[0],setFullName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),phone=_useState6[0],setPhone=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];useEffect(function(){if(getProfileResult===undefined)return;if(getProfileResult.status===\"Successfully\"){var _getProfileResult$use=getProfileResult.user_profile,full_name=_getProfileResult$use.full_name,_phone=_getProfileResult$use.phone,_email=_getProfileResult$use.email;setFullName(full_name);setPhone(_phone);setEmail(_email);}},[getProfileResult]);var handleFinish=function handleFinish(values){var params=new URLSearchParams();params.append(\"companyName\",values.companyName);params.append(\"email\",email);params.append(\"name\",fullName);params.append(\"phone\",phone);params.append(\"subject\",values.subject);params.append(\"message\",message_text);form.validateFields([\"email\",\"name\",\"phone\",\"subject\",\"message_text\"]).then(function(){dispatch(postMessage(params));}).catch(function(errorInfo){console.log(errorInfo);});};useEffect(function(){if(PostContactMessageResult===undefined)return;if(PostContactMessageResult.status===\"Successfully\"){_notification[\"success\"]({message:\"Commit a Message Successfully\",description:\"Thank you! We received your message, and we will reply to you in 3-5 workdays.\"});}else{_notification[\"error\"]({message:\"Failed\",description:\"Something went wrong, please try again latter.\"});}},[PostContactMessageResult]);return/*#__PURE__*/React.createElement(\"div\",{className:styles.contact_form},/*#__PURE__*/React.createElement(_Form,{form:form,onFinish:handleFinish},/*#__PURE__*/React.createElement(_Form.Item,{name:\"name\"// rules={[\n//   {\n//     required: true,\n//     message: \"Please input the name\",\n//   },\n// ]}\n},/*#__PURE__*/React.createElement(_Row,null,/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(\"div\",{className:styles.label},\"Name:\")),/*#__PURE__*/React.createElement(_Col,{span:20},/*#__PURE__*/React.createElement(_Input,{disabled:true,value:fullName,size:\"large\"})))),/*#__PURE__*/React.createElement(_Form.Item,{name:\"email\"// rules={[\n//   {\n//     required: true,\n//     message: \"Please input the email\",\n//   },\n// ]}\n},/*#__PURE__*/React.createElement(_Row,null,/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(\"div\",{className:styles.label},\"Email:\")),/*#__PURE__*/React.createElement(_Col,{span:20},/*#__PURE__*/React.createElement(_Input,{disabled:true,value:email,size:\"large\"})))),/*#__PURE__*/React.createElement(_Form.Item,{name:\"phone\"// rules={[\n//   {\n//     required: true,\n//     message: \"Please input the phone\",\n//   },\n// ]}\n},/*#__PURE__*/React.createElement(_Row,null,/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(\"div\",{className:styles.label},\"Phone:\")),/*#__PURE__*/React.createElement(_Col,{span:20},/*#__PURE__*/React.createElement(_Input,{disabled:true,value:phone,size:\"large\"})))),/*#__PURE__*/React.createElement(_Form.Item,{name:\"companyName\"},/*#__PURE__*/React.createElement(_Row,null,/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(\"div\",{className:styles.label},\"Company:\")),/*#__PURE__*/React.createElement(_Col,{span:20},/*#__PURE__*/React.createElement(_Input,{size:\"large\"})))),/*#__PURE__*/React.createElement(_Form.Item,{name:\"subject\",rules:[{required:true,message:\"Please input the subject\"}]},/*#__PURE__*/React.createElement(_Row,null,/*#__PURE__*/React.createElement(_Col,{span:4},/*#__PURE__*/React.createElement(\"div\",{className:styles.label},\"Subject*:\")),/*#__PURE__*/React.createElement(_Col,{span:20},/*#__PURE__*/React.createElement(_Input,{size:\"large\"})))),/*#__PURE__*/React.createElement(_Form.Item,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.label},\"Message*:\"),/*#__PURE__*/React.createElement(TextArea,{rows:8,className:styles.message,name:\"message_text\",value:message_text,onChange:function onChange(e){return setMessageText(e.target.value);},rules:[{required:true,message:\"Please input the message\"}]})),/*#__PURE__*/React.createElement(_Form.Item,null,/*#__PURE__*/React.createElement(_Button,{type:\"primary\",size:\"large\",htmlType:\"submit\",className:styles.submit},\"Send Message\"))));};export default ContactForm;","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/pages/contact/ContactForm.js"],"names":["React","useEffect","useState","postMessage","useDispatch","useMappedState","styles","TextArea","mapStateContact","state","contact","mapStateProfile","user_profile","ContactForm","dispatch","useForm","form","message_text","setMessageText","PostContactMessageResult","getProfileResult","fullName","setFullName","phone","setPhone","email","setEmail","undefined","status","full_name","handleFinish","values","params","URLSearchParams","append","companyName","subject","validateFields","then","catch","errorInfo","console","log","message","description","contact_form","label","required","e","target","value","submit"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Form, Button, Input, notification, Row, Col } from \"antd\";\r\nimport { postMessage } from \"../../actions/contact\";\r\nimport { useDispatch, useMappedState } from \"redux-react-hook\";\r\nimport styles from \"./Contact.module.less\";\r\n\r\nconst { TextArea } = Input;\r\nconst mapStateContact = (state) => state.contact;\r\nconst mapStateProfile = (state) => state.user_profile;\r\n\r\nconst ContactForm = () => {\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n  const [message_text, setMessageText] = useState();\r\n  const { PostContactMessageResult } = useMappedState(mapStateContact);\r\n  const { getProfileResult } = useMappedState(mapStateProfile);\r\n\r\n  const [fullName, setFullName] = useState();\r\n  const [phone, setPhone] = useState();\r\n  const [email, setEmail] = useState();\r\n\r\n  useEffect(() => {\r\n    if (getProfileResult === undefined) return;\r\n\r\n    if (getProfileResult.status === \"Successfully\") {\r\n      const { full_name, phone, email } = getProfileResult.user_profile;\r\n      setFullName(full_name);\r\n      setPhone(phone);\r\n      setEmail(email);\r\n    }\r\n  }, [getProfileResult]);\r\n\r\n  const handleFinish = (values) => {\r\n    let params = new URLSearchParams();\r\n    params.append(\"companyName\", values.companyName);\r\n    params.append(\"email\", email);\r\n    params.append(\"name\", fullName);\r\n    params.append(\"phone\", phone);\r\n    params.append(\"subject\", values.subject);\r\n    params.append(\"message\", message_text);\r\n    form\r\n      .validateFields([\"email\", \"name\", \"phone\", \"subject\", \"message_text\"])\r\n      .then(() => {\r\n        dispatch(postMessage(params));\r\n      })\r\n      .catch((errorInfo) => {\r\n        console.log(errorInfo);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (PostContactMessageResult === undefined) return;\r\n\r\n    if (PostContactMessageResult.status === \"Successfully\") {\r\n      notification[\"success\"]({\r\n        message: \"Commit a Message Successfully\",\r\n        description:\r\n          \"Thank you! We received your message, and we will reply to you in 3-5 workdays.\",\r\n      });\r\n    } else {\r\n      notification[\"error\"]({\r\n        message: \"Failed\",\r\n        description: \"Something went wrong, please try again latter.\",\r\n      });\r\n    }\r\n  }, [PostContactMessageResult]);\r\n\r\n  return (\r\n    <div className={styles.contact_form}>\r\n      <Form form={form} onFinish={handleFinish}>\r\n        <Form.Item\r\n          name=\"name\"\r\n          // rules={[\r\n          //   {\r\n          //     required: true,\r\n          //     message: \"Please input the name\",\r\n          //   },\r\n          // ]}\r\n        >\r\n          <Row>\r\n            <Col span={4}>\r\n              <div className={styles.label}>Name:</div>\r\n            </Col>\r\n\r\n            <Col span={20}>\r\n              <Input disabled value={fullName} size=\"large\" />\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"email\"\r\n          // rules={[\r\n          //   {\r\n          //     required: true,\r\n          //     message: \"Please input the email\",\r\n          //   },\r\n          // ]}\r\n        >\r\n          <Row>\r\n            <Col span={4}>\r\n              <div className={styles.label}>Email:</div>\r\n            </Col>\r\n\r\n            <Col span={20}>\r\n              <Input disabled value={email} size=\"large\" />\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"phone\"\r\n          // rules={[\r\n          //   {\r\n          //     required: true,\r\n          //     message: \"Please input the phone\",\r\n          //   },\r\n          // ]}\r\n        >\r\n          <Row>\r\n            <Col span={4}>\r\n              <div className={styles.label}>Phone:</div>\r\n            </Col>\r\n\r\n            <Col span={20}>\r\n              <Input disabled value={phone} size=\"large\" />\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"companyName\">\r\n          <Row>\r\n            <Col span={4}>\r\n              <div className={styles.label}>Company:</div>\r\n            </Col>\r\n\r\n            <Col span={20}>\r\n              <Input size=\"large\" />\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"subject\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input the subject\",\r\n            },\r\n          ]}\r\n        >\r\n          <Row>\r\n            <Col span={4}>\r\n              <div className={styles.label}>Subject*:</div>\r\n            </Col>\r\n\r\n            <Col span={20}>\r\n              <Input size=\"large\" />\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n        >\r\n          <div className={styles.label}>Message*:</div>\r\n          <TextArea\r\n            rows={8}\r\n            className={styles.message}\r\n            name=\"message_text\"\r\n            value={message_text}\r\n            onChange={(e) => setMessageText(e.target.value)}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please input the message\",\r\n              },\r\n            ]}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            htmlType=\"submit\"\r\n            className={styles.submit}\r\n          >\r\n            Send Message\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactForm;\r\n"]},"metadata":{},"sourceType":"module"}