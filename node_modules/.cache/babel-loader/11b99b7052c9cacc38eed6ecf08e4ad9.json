{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/space/style\";\nimport _Space from \"antd/es/space\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/descriptions/style\";\nimport _Descriptions from \"antd/es/descriptions\";\nimport \"antd/es/notification/style\";\nimport _notification from \"antd/es/notification\";\nvar _jsxFileName = \"F:\\\\Project\\\\walkspanDeploy\\\\src\\\\pages\\\\admin\\\\component_of_control_panel\\\\ProfileContent.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport styles from \"./Profile.module.less\";\nimport { getUserProfile } from \"../../../actions/user_profile\";\nimport { useDispatch, useMappedState } from \"redux-react-hook\";\nimport ProfileUpdateForm from \"./ProfileUpdateForm\";\n\nconst mapStateProfile = state => state.user_profile;\n\nconst ProfileContent = () => {\n  const dispatch = useDispatch();\n  const [visible, setVisible] = useState(false);\n  const {\n    getProfileResult\n  } = useMappedState(mapStateProfile);\n  const [fullName, setFullName] = useState();\n  const [validStart, setValidStart] = useState();\n  const [validEnd, setValidEnd] = useState();\n  const [membershipLevel, setMembershipLevel] = useState();\n  const [phone, setPhone] = useState();\n  const [email, setEmail] = useState();\n  const [register, setRegisterTime] = useState();\n\n  const handleClick = () => {\n    setVisible(true);\n  };\n\n  const handleOK = () => {\n    setVisible(false);\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  useEffect(() => {\n    dispatch(getUserProfile({\n      user_id: 10\n    }));\n  }, [dispatch]);\n\n  const getMemberShipLevel = level => {\n    switch (level) {\n      case \"1\":\n        return \"Economy\";\n\n      case \"2\":\n        return \"Deluxe\";\n\n      case \"3\":\n        return \"Ultimate\";\n    }\n  };\n\n  useEffect(() => {\n    if (getProfileResult === undefined) return;\n\n    if (getProfileResult.status === \"Successfully\") {\n      const {\n        valid_end,\n        valid_start,\n        full_name,\n        membership_level,\n        phone,\n        email,\n        register_time\n      } = getProfileResult.user_profile;\n      setFullName(full_name);\n      setValidStart(valid_start);\n      setValidEnd(valid_end);\n      setMembershipLevel(membership_level);\n      setPhone(phone);\n      setEmail(email);\n      setRegisterTime(register_time);\n    } else {\n      _notification[\"error\"]({\n        message: \"Failed\",\n        description: \"Failed to access the user profile!\"\n      });\n    }\n  }, [getProfileResult]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cotainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.avatar_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: \"34px\",\n      fontWeight: \"bolder\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Welcome back, \", fullName, \"!\")), /*#__PURE__*/React.createElement(_Descriptions, {\n    title: \"User Info\",\n    bordered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Descriptions.Item, {\n    label: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, fullName), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n    label: \"Sexaulity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Men\"), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n    label: \"Register Time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, register), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n    label: \"Phone Number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, phone), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n    label: \"Email Address\",\n    span: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, email), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n    label: \"Member Start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, validStart), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n    label: \"Member End\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, validEnd), /*#__PURE__*/React.createElement(_Descriptions.Item, {\n    label: \"Member Level\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, getMemberShipLevel(membershipLevel))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.edit_button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Space, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"Edit\"))), /*#__PURE__*/React.createElement(_Modal, {\n    visible: visible,\n    onCancel: handleCancel,\n    onOk: handleOK,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ProfileUpdateForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default ProfileContent;","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/pages/admin/component_of_control_panel/ProfileContent.js"],"names":["React","useState","useEffect","UserOutlined","styles","getUserProfile","useDispatch","useMappedState","ProfileUpdateForm","mapStateProfile","state","user_profile","ProfileContent","dispatch","visible","setVisible","getProfileResult","fullName","setFullName","validStart","setValidStart","validEnd","setValidEnd","membershipLevel","setMembershipLevel","phone","setPhone","email","setEmail","register","setRegisterTime","handleClick","handleOK","handleCancel","user_id","getMemberShipLevel","level","undefined","status","valid_end","valid_start","full_name","membership_level","register_time","message","description","cotainer","avatar_title","fontSize","fontWeight","edit_button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { UserOutlined } from \"@ant-design/icons\";\r\nimport { Descriptions, Button, Space, Modal, notification, Avatar } from \"antd\";\r\nimport styles from \"./Profile.module.less\";\r\nimport { getUserProfile } from \"../../../actions/user_profile\";\r\nimport { useDispatch, useMappedState } from \"redux-react-hook\";\r\nimport ProfileUpdateForm from \"./ProfileUpdateForm\";\r\n\r\nconst mapStateProfile = (state) => state.user_profile;\r\n\r\nconst ProfileContent = () => {\r\n  const dispatch = useDispatch();\r\n  const [visible, setVisible] = useState(false);\r\n  const { getProfileResult } = useMappedState(mapStateProfile);\r\n  const [fullName, setFullName] = useState();\r\n  const [validStart, setValidStart] = useState();\r\n  const [validEnd, setValidEnd] = useState();\r\n  const [membershipLevel, setMembershipLevel] = useState();\r\n  const [phone, setPhone] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [register, setRegisterTime] = useState();\r\n  const handleClick = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleOK = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserProfile({ user_id: 10 }));\r\n  }, [dispatch]);\r\n\r\n  const getMemberShipLevel = (level) => {\r\n    switch (level) {\r\n      case \"1\":\r\n        return \"Economy\";\r\n      case \"2\":\r\n        return \"Deluxe\";\r\n      case \"3\":\r\n        return \"Ultimate\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getProfileResult === undefined)  return;\r\n\r\n    if (getProfileResult.status === \"Successfully\") {\r\n      const {\r\n        valid_end,\r\n        valid_start,\r\n        full_name,\r\n        membership_level,\r\n        phone,\r\n        email,\r\n        register_time,\r\n      } = getProfileResult.user_profile;\r\n\r\n      setFullName(full_name);\r\n      setValidStart(valid_start);\r\n      setValidEnd(valid_end);\r\n      setMembershipLevel(membership_level);\r\n      setPhone(phone);\r\n      setEmail(email);\r\n      setRegisterTime(register_time);\r\n    } else {\r\n      notification[\"error\"]({\r\n        message: \"Failed\",\r\n        description: \"Failed to access the user profile!\",\r\n      });\r\n    }\r\n  }, [getProfileResult]);\r\n\r\n  return (\r\n    <div className={styles.cotainer}>\r\n      <div className={styles.avatar_title}>\r\n        {/* <Avatar size={64} icon={<UserOutlined />} />{\" \"} */}\r\n        <p\r\n          style={{\r\n            fontSize: \"34px\",\r\n            fontWeight: \"bolder\",\r\n          }}\r\n        >\r\n          Welcome back, {fullName}!\r\n        </p>\r\n      </div>\r\n      <Descriptions title=\"User Info\" bordered>\r\n        <Descriptions.Item label=\"Name\">{fullName}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Sexaulity\">Men</Descriptions.Item>\r\n        <Descriptions.Item label=\"Register Time\">{register}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Phone Number\">{phone}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Email Address\" span={2}>\r\n          {email}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Member Start\">{validStart}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Member End\">{validEnd}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Member Level\">\r\n          {getMemberShipLevel(membershipLevel)}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <div className={styles.edit_button}>\r\n        <Space align=\"center\">\r\n          <Button type=\"primary\" onClick={handleClick}>\r\n            Edit\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n      <Modal visible={visible} onCancel={handleCancel} onOk={handleOK}>\r\n        <ProfileUpdateForm />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileContent;\r\n"]},"metadata":{},"sourceType":"module"}