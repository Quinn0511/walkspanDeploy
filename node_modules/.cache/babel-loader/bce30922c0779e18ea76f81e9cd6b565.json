{"ast":null,"code":"import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/card/style\";import _Card from\"antd/es/card\";import\"antd/es/space/style\";import _Space from\"antd/es/space\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/popover/style\";import _Popover from\"antd/es/popover\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/notification/style\";import _notification from\"antd/es/notification\";import\"antd/es/progress/style\";import _Progress from\"antd/es/progress\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import _slicedToArray from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import\"antd/es/layout/style\";import _Layout from\"antd/es/layout\";import React,{useEffect,useState}from\"react\";import styles from\"./LoginPage.module.less\";import NavigationBar from\"../../component/navigationBar\";import Footer from\"../../component/footer\";import{postRegister}from\"../../actions/register\";import{useDispatch,useMappedState}from\"redux-react-hook\";//import styles from \"./SignupPage.module.less\";\nvar Content=_Layout.Content;var layout={labelCol:{span:8},wrapperCol:{span:8}};var tailLayout={wrapperCol:{offset:4,span:16}};var getUserId=function getUserId(){var s=[];var hexDigits=\"0123456789abcdef\";for(var i=0;i<36;i++){s[i]=hexDigits.substr(Math.floor(Math.random()*0x10),1);}// bits 12-15 of the time_hi_and_version field to 0010\ns[14]=\"4\";// bits 6-7 of the clock_seq_hi_and_reserved to 01\ns[19]=hexDigits.substr(s[19]&0x3|0x8,1);s[8]=s[13]=s[18]=s[23]=\"-\";var uuid=s.join(\"\");return uuid;};var passwordStatusMap={ok:/*#__PURE__*/React.createElement(\"div\",{className:styles.success},\"Level: Strong\"),pass:/*#__PURE__*/React.createElement(\"div\",{className:styles.warning},\"Level: Medium\"),poor:/*#__PURE__*/React.createElement(\"div\",{className:styles.error},\"Level: Weak\")};var passwordProgressMap={ok:\"success\",pass:\"normal\",poor:\"exception\"};var mapStateRegister=function mapStateRegister(state){return state.register;};var SignupPage=function SignupPage(){var user_id=getUserId();var dispatch=useDispatch();var _Form$useForm=_Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useMappedState=useMappedState(mapStateRegister),PostRegisterResult=_useMappedState.PostRegisterResult;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),popover=_useState4[0],setPopover=_useState4[1];var checkConfirm=function checkConfirm(_,value){var promise=Promise;if(value&&value!==form.getFieldValue(\"password\")){return promise.reject(\"The passwords are not matched\");}return promise.resolve();};var checkPassword=function checkPassword(_,value){var promise=Promise;if(!value){setVisible(!!value);return promise.reject(\"Please input the password\");}if(!visible){setVisible(!!value);}setPopover(!popover);if(value&&form.getFieldValue(\"confirm\")){// using preious wriiten validator checkConfirm\nform.validateFields([\"confirm\"]);}return promise.resolve();};var getPasswordStatus=function getPasswordStatus(){var value=form.getFieldValue(\"password\");if(value&&value.length>9){return\"ok\";}if(value&&value.length>5){return\"pass\";}return\"poor\";};var renderPasswordProgress=function renderPasswordProgress(){var value=form.getFieldValue(\"password\");var passwordStatus=getPasswordStatus();return value&&value.length&&/*#__PURE__*/React.createElement(\"div\",{className:styles[\"progress-\".concat(passwordStatus)]},/*#__PURE__*/React.createElement(_Progress,{className:styles.progress,status:passwordProgressMap[passwordStatus],strokeWidth:6,percent:value.length*10>100?100:value.length*10,showInfo:false}));};var handleFinish=function handleFinish(values){console.log(values);var params=new URLSearchParams();params.append(\"first_name\",values.first_name);params.append(\"last_name\",values.last_name);params.append(\"phone\",values.phone);params.append(\"email_address\",values.email_address);params.append(\"username\",values.username);params.append(\"password\",values.password);params.append(\"user_id\",user_id);form.validateFields([\"first_name\",\"last_name\",\"phone\",\"email_adress\",\"username\",\"password\"]).then(function(){dispatch(postRegister(params));}).catch(function(errorInfo){console.log(errorInfo);});};useEffect(function(){if(PostRegisterResult===undefined)return;if(PostRegisterResult.status===\"Successfully\"){window.location.href=\"/login\";_notification[\"success\"]({message:\"Sign up successfully\",description:\"Thank you! Sign up sucessfully!\"});}if(PostRegisterResult.status===\"Failed\"){_notification[\"error\"]({message:\"Failed\",description:\"\".concat(PostRegisterResult.result.errorInfo)});}},[PostRegisterResult]);var handleSubmit=function handleSubmit(){window.location.href=\"/admin\";//this.props.history.push(\"/admin\");\n};var handleCancel=function handleCancel(){window.location.href=\"/login\";//this.props.history.push(\"/\");\n};return/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(\"div\",{className:styles.header},/*#__PURE__*/React.createElement(NavigationBar,null)),/*#__PURE__*/React.createElement(\"div\",{className:styles.title},/*#__PURE__*/React.createElement(\"div\",{className:styles.subtitle},\" Sign Up \"),/*#__PURE__*/React.createElement(\"div\",{className:styles.text},\"Please fill out the form below, state how you would use\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.text},\"Sense of Walk data, which plan you would like and\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.text},\"will reply within 3-5 business days!\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.listitem},/*#__PURE__*/React.createElement(Content,{align:\"center\"},/*#__PURE__*/React.createElement(_Form,Object.assign({form:form},layout,{onFinish:handleFinish}),/*#__PURE__*/React.createElement(_Form.Item,{label:\"First Name\",name:\"first_name\",rules:[{required:true,message:\"Please input your first name!\"}]},/*#__PURE__*/React.createElement(_Input,{size:\"large\"})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Last Name\",name:\"last_name\",rules:[{required:true,message:\"Please input your last name!\"}]},/*#__PURE__*/React.createElement(_Input,{size:\"large\"})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Phone\",name:\"phone\",rules:[{required:false,message:\"Please input your phone number!\"}]},/*#__PURE__*/React.createElement(_Input,{size:\"large\"})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Email\",name:\"email_address\",rules:[{required:true,message:\"Please input your email address!\"}]},/*#__PURE__*/React.createElement(_Input,{size:\"large\"})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Username\",name:\"username\",rules:[{required:true,message:\"Please input your username!\"}]},/*#__PURE__*/React.createElement(_Input,{size:\"large\"})),/*#__PURE__*/React.createElement(_Popover,{content:visible&&/*#__PURE__*/React.createElement(\"div\",null,passwordStatusMap[getPasswordStatus()],renderPasswordProgress(),/*#__PURE__*/React.createElement(\"div\",null,\"Please input at least 6 digits\")),overlayStyle:{width:240,left:1100},placement:\"right\",visible:visible},/*#__PURE__*/React.createElement(_Form.Item,{label:\"Password\",name:\"password\",rules:[{validator:checkPassword}]},/*#__PURE__*/React.createElement(_Input,{size:\"large\",type:\"password\"}))),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Confirm Password\",name:\"confirm\",rules:[{required:true,message:\"Please confirm your password!\"},{validator:checkConfirm}]},/*#__PURE__*/React.createElement(_Input,{size:\"large\",type:\"password\"})),/*#__PURE__*/React.createElement(_Form.Item,tailLayout,/*#__PURE__*/React.createElement(_Space,{direction:\"horizontal\"},/*#__PURE__*/React.createElement(\"div\",{className:styles.button},/*#__PURE__*/React.createElement(_Button,{className:styles.createButton,onClick:handleCancel},\"Cancel\"),/*#__PURE__*/React.createElement(_Button,{className:styles.createButton,htmlType:\"submit\"},\"Submit\")))))))),/*#__PURE__*/React.createElement(\"div\",{className:styles.carditem},/*#__PURE__*/React.createElement(_Row,{gutter:16},/*#__PURE__*/React.createElement(_Col,{span:7},/*#__PURE__*/React.createElement(_Card,{title:\"Starter\",bordered:true},\"Basic resources for starters and small projects.\")),/*#__PURE__*/React.createElement(_Col,{span:7},/*#__PURE__*/React.createElement(_Card,{title:\"Advanced\",bordered:true},\"More features and flexibility for multiple projects, access to moderate.\")),/*#__PURE__*/React.createElement(_Col,{span:7},/*#__PURE__*/React.createElement(_Card,{title:\"Pro\",bordered:true},\"More support for sites with heavy traffic. Ideal for Real Estate sites.\")))),/*#__PURE__*/React.createElement(\"div\",{className:styles.footer},/*#__PURE__*/React.createElement(Footer,null)));};export default SignupPage;","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/pages/login/SignupPage.jsx"],"names":["React","useEffect","useState","styles","NavigationBar","Footer","postRegister","useDispatch","useMappedState","Content","layout","labelCol","span","wrapperCol","tailLayout","offset","getUserId","s","hexDigits","i","substr","Math","floor","random","uuid","join","passwordStatusMap","ok","success","pass","warning","poor","error","passwordProgressMap","mapStateRegister","state","register","SignupPage","user_id","dispatch","useForm","form","PostRegisterResult","visible","setVisible","popover","setPopover","checkConfirm","_","value","promise","Promise","getFieldValue","reject","resolve","checkPassword","validateFields","getPasswordStatus","length","renderPasswordProgress","passwordStatus","progress","handleFinish","values","console","log","params","URLSearchParams","append","first_name","last_name","phone","email_address","username","password","then","catch","errorInfo","undefined","status","window","location","href","message","description","result","handleSubmit","handleCancel","container","header","title","subtitle","text","listitem","required","width","left","validator","button","createButton","carditem","footer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Layout, Card, Col, Row } from \"antd\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Popover,\r\n  Progress,\r\n  Space,\r\n  notification,\r\n} from \"antd\";\r\nimport styles from \"./LoginPage.module.less\";\r\nimport NavigationBar from \"../../component/navigationBar\";\r\nimport Footer from \"../../component/footer\";\r\nimport { postRegister } from \"../../actions/register\";\r\nimport { useDispatch, useMappedState } from \"redux-react-hook\";\r\n//import styles from \"./SignupPage.module.less\";\r\n\r\nconst { Content } = Layout;\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 8 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 4, span: 16 },\r\n};\r\n\r\nconst getUserId = () => {\r\n  const s = [];\r\n  const hexDigits = \"0123456789abcdef\";\r\n  for (let i = 0; i < 36; i++) {\r\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n  }\r\n  // bits 12-15 of the time_hi_and_version field to 0010\r\n  s[14] = \"4\";\r\n  // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\r\n  s[8] = s[13] = s[18] = s[23] = \"-\";\r\n  const uuid = s.join(\"\");\r\n  return uuid;\r\n};\r\n\r\nconst passwordStatusMap = {\r\n  ok: <div className={styles.success}>Level: Strong</div>,\r\n  pass: <div className={styles.warning}>Level: Medium</div>,\r\n  poor: <div className={styles.error}>Level: Weak</div>,\r\n};\r\n\r\nconst passwordProgressMap = {\r\n  ok: \"success\",\r\n  pass: \"normal\",\r\n  poor: \"exception\",\r\n};\r\n\r\nconst mapStateRegister = (state) => state.register;\r\nconst SignupPage = () => {\r\n  const user_id = getUserId();\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n  const { PostRegisterResult } = useMappedState(mapStateRegister);\r\n\r\n  const [visible, setVisible] = useState(false);\r\n  const [popover, setPopover] = useState(false);\r\n\r\n  const checkConfirm = (_, value) => {\r\n    const promise = Promise;\r\n    if (value && value !== form.getFieldValue(\"password\")) {\r\n      return promise.reject(\"The passwords are not matched\");\r\n    }\r\n    return promise.resolve();\r\n  };\r\n\r\n  const checkPassword = (_, value) => {\r\n    const promise = Promise;\r\n    if (!value) {\r\n      setVisible(!!value);\r\n      return promise.reject(\"Please input the password\");\r\n    }\r\n\r\n    if (!visible) {\r\n      setVisible(!!value);\r\n    }\r\n    setPopover(!popover);\r\n    if (value && form.getFieldValue(\"confirm\")) {\r\n      // using preious wriiten validator checkConfirm\r\n      form.validateFields([\"confirm\"]);\r\n    }\r\n\r\n    return promise.resolve();\r\n  };\r\n\r\n  const getPasswordStatus = () => {\r\n    const value = form.getFieldValue(\"password\");\r\n    if (value && value.length > 9) {\r\n      return \"ok\";\r\n    }\r\n    if (value && value.length > 5) {\r\n      return \"pass\";\r\n    }\r\n\r\n    return \"poor\";\r\n  };\r\n\r\n  const renderPasswordProgress = () => {\r\n    const value = form.getFieldValue(\"password\");\r\n    const passwordStatus = getPasswordStatus();\r\n    return (\r\n      value &&\r\n      value.length && (\r\n        <div className={styles[`progress-${passwordStatus}`]}>\r\n          <Progress\r\n            className={styles.progress}\r\n            status={passwordProgressMap[passwordStatus]}\r\n            strokeWidth={6}\r\n            percent={value.length * 10 > 100 ? 100 : value.length * 10}\r\n            showInfo={false}\r\n          />\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleFinish = (values) => {\r\n    console.log(values);\r\n    let params = new URLSearchParams();\r\n    params.append(\"first_name\", values.first_name);\r\n    params.append(\"last_name\", values.last_name);\r\n    params.append(\"phone\", values.phone);\r\n    params.append(\"email_address\", values.email_address);\r\n    params.append(\"username\", values.username);\r\n    params.append(\"password\", values.password);\r\n    params.append(\"user_id\", user_id);\r\n    form\r\n      .validateFields([\r\n        \"first_name\",\r\n        \"last_name\",\r\n        \"phone\",\r\n        \"email_adress\",\r\n        \"username\",\r\n        \"password\",\r\n      ])\r\n      .then(() => {\r\n        dispatch(postRegister(params));\r\n      })\r\n      .catch((errorInfo) => {\r\n        console.log(errorInfo);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (PostRegisterResult === undefined) return;\r\n    if (PostRegisterResult.status === \"Successfully\") {\r\n      window.location.href = \"/login\";\r\n      notification[\"success\"]({\r\n        message: \"Sign up successfully\",\r\n        description: \"Thank you! Sign up sucessfully!\",\r\n      });\r\n    } \r\n    if (PostRegisterResult.status === \"Failed\")  {\r\n      notification[\"error\"]({\r\n        message: \"Failed\",\r\n        description: `${PostRegisterResult.result.errorInfo}`,\r\n      });\r\n    }\r\n  }, [PostRegisterResult]);\r\n\r\n  const handleSubmit = () => {\r\n    window.location.href = \"/admin\";\r\n    //this.props.history.push(\"/admin\");\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    window.location.href = \"/login\";\r\n    //this.props.history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.header}>\r\n        <NavigationBar />\r\n      </div>\r\n      <div className={styles.title}>\r\n        <div className={styles.subtitle}> Sign Up </div>\r\n        <div className={styles.text}>\r\n          Please fill out the form below, state how you would use\r\n        </div>\r\n        <div className={styles.text}>\r\n          Sense of Walk data, which plan you would like and\r\n        </div>\r\n        <div className={styles.text}>will reply within 3-5 business days!</div>\r\n        <div className={styles.listitem}>\r\n          <Content align=\"center\">\r\n            <Form form={form} {...layout} onFinish={handleFinish}>\r\n              <Form.Item\r\n                label=\"First Name\"\r\n                name=\"first_name\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your first name!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input size=\"large\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Last Name\"\r\n                name=\"last_name\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your last name!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input size=\"large\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Phone\"\r\n                name=\"phone\"\r\n                rules={[\r\n                  {\r\n                    required: false,\r\n                    message: \"Please input your phone number!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input size=\"large\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Email\"\r\n                name=\"email_address\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your email address!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input size=\"large\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your username!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input size=\"large\" />\r\n              </Form.Item>\r\n\r\n              <Popover\r\n                content={\r\n                  visible && (\r\n                    <div>\r\n                      {passwordStatusMap[getPasswordStatus()]}\r\n                      {renderPasswordProgress()}\r\n                      <div>Please input at least 6 digits</div>\r\n                    </div>\r\n                  )\r\n                }\r\n                overlayStyle={{ width: 240, left: 1100 }}\r\n                placement=\"right\"\r\n                visible={visible}\r\n              >\r\n                <Form.Item\r\n                  label=\"Password\"\r\n                  name=\"password\"\r\n                  rules={[\r\n                    {\r\n                      validator: checkPassword,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {/* <Input  type=\"password\"/> */}\r\n\r\n                  <Input size=\"large\" type=\"password\" />\r\n                </Form.Item>\r\n              </Popover>\r\n\r\n              <Form.Item\r\n                label=\"Confirm Password\"\r\n                name=\"confirm\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please confirm your password!\",\r\n                  },\r\n                  {\r\n                    validator: checkConfirm,\r\n                  },\r\n                ]}\r\n              >\r\n                <Input size=\"large\" type=\"password\" />\r\n              </Form.Item>\r\n              <Form.Item {...tailLayout}>\r\n                <Space direction=\"horizontal\">\r\n                  <div className={styles.button}>\r\n                    <Button\r\n                      className={styles.createButton}\r\n                      onClick={handleCancel}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button className={styles.createButton} htmlType=\"submit\">\r\n                      Submit\r\n                    </Button>\r\n                  </div>\r\n                </Space>\r\n              </Form.Item>\r\n            </Form>\r\n          </Content>\r\n        </div>\r\n      </div>\r\n      <div className={styles.carditem}>\r\n        <Row gutter={16}>\r\n          <Col span={7}>\r\n            <Card title=\"Starter\" bordered={true}>\r\n              Basic resources for starters and small projects.\r\n            </Card>\r\n          </Col>\r\n          <Col span={7}>\r\n            <Card title=\"Advanced\" bordered={true}>\r\n              More features and flexibility for multiple projects, access to\r\n              moderate.\r\n            </Card>\r\n          </Col>\r\n          <Col span={7}>\r\n            <Card title=\"Pro\" bordered={true}>\r\n              More support for sites with heavy traffic. Ideal for Real Estate\r\n              sites.\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n      <div className={styles.footer}>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupPage;\r\n"]},"metadata":{},"sourceType":"module"}