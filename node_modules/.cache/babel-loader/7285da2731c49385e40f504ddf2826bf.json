{"ast":null,"code":"import\"antd/es/modal/style\";import _Modal from\"antd/es/modal\";import\"antd/es/space/style\";import _Space from\"antd/es/space\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/descriptions/style\";import _Descriptions from\"antd/es/descriptions\";import\"antd/es/notification/style\";import _notification from\"antd/es/notification\";import _slicedToArray from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{UserOutlined}from\"@ant-design/icons\";import styles from\"./Profile.module.less\";import{getUserProfile}from\"../../../actions/user_profile\";import{useDispatch,useMappedState}from\"redux-react-hook\";import ProfileUpdateForm from\"./ProfileUpdateForm\";var mapStateProfile=function mapStateProfile(state){return state.user_profile;};var ProfileContent=function ProfileContent(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useMappedState=useMappedState(mapStateProfile),getProfileResult=_useMappedState.getProfileResult;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),fullName=_useState4[0],setFullName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),validStart=_useState6[0],setValidStart=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),validEnd=_useState8[0],setValidEnd=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),membershipLevel=_useState10[0],setMembershipLevel=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),phone=_useState12[0],setPhone=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),email=_useState14[0],setEmail=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),register=_useState16[0],setRegisterTime=_useState16[1];var handleClick=function handleClick(){setVisible(true);};var handleOK=function handleOK(){setVisible(false);};var handleCancel=function handleCancel(){setVisible(false);};useEffect(function(){dispatch(getUserProfile({user_id:10}));},[dispatch]);var getMemberShipLevel=function getMemberShipLevel(level){switch(level){case\"1\":return\"Economy\";case\"2\":return\"Deluxe\";case\"3\":return\"Ultimate\";}};useEffect(function(){if(getProfileResult===undefined)return;if(getProfileResult.status===\"Successfully\"){var _getProfileResult$use=getProfileResult.user_profile,valid_end=_getProfileResult$use.valid_end,valid_start=_getProfileResult$use.valid_start,full_name=_getProfileResult$use.full_name,membership_level=_getProfileResult$use.membership_level,_phone=_getProfileResult$use.phone,_email=_getProfileResult$use.email,register_time=_getProfileResult$use.register_time;setFullName(full_name);setValidStart(valid_start);setValidEnd(valid_end);setMembershipLevel(membership_level);setPhone(_phone);setEmail(_email);setRegisterTime(register_time);}else{_notification[\"error\"]({message:\"Failed\",description:\"Failed to access the user profile!\"});}},[getProfileResult]);return/*#__PURE__*/React.createElement(\"div\",{className:styles.cotainer},/*#__PURE__*/React.createElement(\"div\",{className:styles.avatar_title},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:\"34px\",fontWeight:\"bolder\"}},\"Welcome back, \",fullName,\"!\")),/*#__PURE__*/React.createElement(_Descriptions,{title:\"User Info\",bordered:true},/*#__PURE__*/React.createElement(_Descriptions.Item,{label:\"Name\"},fullName),/*#__PURE__*/React.createElement(_Descriptions.Item,{label:\"Sexaulity\"},\"Men\"),/*#__PURE__*/React.createElement(_Descriptions.Item,{label:\"Register Time\"},register),/*#__PURE__*/React.createElement(_Descriptions.Item,{label:\"Phone Number\"},phone),/*#__PURE__*/React.createElement(_Descriptions.Item,{label:\"Email Address\",span:2},email),/*#__PURE__*/React.createElement(_Descriptions.Item,{label:\"Member Start\"},validStart),/*#__PURE__*/React.createElement(_Descriptions.Item,{label:\"Member End\"},validEnd),/*#__PURE__*/React.createElement(_Descriptions.Item,{label:\"Member Level\"},getMemberShipLevel(membershipLevel))),/*#__PURE__*/React.createElement(\"div\",{className:styles.edit_button},/*#__PURE__*/React.createElement(_Space,{align:\"center\"},/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:handleClick},\"Edit\"))),/*#__PURE__*/React.createElement(_Modal,{visible:visible,onCancel:handleCancel,onOk:handleOK},/*#__PURE__*/React.createElement(ProfileUpdateForm,null)));};export default ProfileContent;","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/pages/admin/component_of_control_panel/ProfileContent.js"],"names":["React","useState","useEffect","UserOutlined","styles","getUserProfile","useDispatch","useMappedState","ProfileUpdateForm","mapStateProfile","state","user_profile","ProfileContent","dispatch","visible","setVisible","getProfileResult","fullName","setFullName","validStart","setValidStart","validEnd","setValidEnd","membershipLevel","setMembershipLevel","phone","setPhone","email","setEmail","register","setRegisterTime","handleClick","handleOK","handleCancel","user_id","getMemberShipLevel","level","undefined","status","valid_end","valid_start","full_name","membership_level","register_time","message","description","cotainer","avatar_title","fontSize","fontWeight","edit_button"],"mappings":"0fAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,YAAT,KAA6B,mBAA7B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,OAASC,cAAT,KAA+B,+BAA/B,CACA,OAASC,WAAT,CAAsBC,cAAtB,KAA4C,kBAA5C,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAjB,EAAxB,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAD2B,cAEGL,QAAQ,CAAC,KAAD,CAFX,wCAEpBa,OAFoB,eAEXC,UAFW,mCAGER,cAAc,CAACE,eAAD,CAHhB,CAGnBO,gBAHmB,iBAGnBA,gBAHmB,gBAIKf,QAAQ,EAJb,yCAIpBgB,QAJoB,eAIVC,WAJU,8BAKSjB,QAAQ,EALjB,yCAKpBkB,UALoB,eAKRC,aALQ,8BAMKnB,QAAQ,EANb,yCAMpBoB,QANoB,eAMVC,WANU,8BAOmBrB,QAAQ,EAP3B,0CAOpBsB,eAPoB,gBAOHC,kBAPG,gCAQDvB,QAAQ,EARP,2CAQpBwB,KARoB,gBAQbC,QARa,gCASDzB,QAAQ,EATP,2CASpB0B,KAToB,gBASbC,QATa,gCAUS3B,QAAQ,EAVjB,2CAUpB4B,QAVoB,gBAUVC,eAVU,gBAW3B,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBhB,UAAU,CAAC,IAAD,CAAV,CACD,CAFD,CAIA,GAAMiB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBjB,UAAU,CAAC,KAAD,CAAV,CACD,CAFD,CAIA,GAAMkB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBlB,UAAU,CAAC,KAAD,CAAV,CACD,CAFD,CAIAb,SAAS,CAAC,UAAM,CACdW,QAAQ,CAACR,cAAc,CAAC,CAAE6B,OAAO,CAAE,EAAX,CAAD,CAAf,CAAR,CACD,CAFQ,CAEN,CAACrB,QAAD,CAFM,CAAT,CAIA,GAAMsB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,CACpC,OAAQA,KAAR,EACE,IAAK,GAAL,CACE,MAAO,SAAP,CACF,IAAK,GAAL,CACE,MAAO,QAAP,CACF,IAAK,GAAL,CACE,MAAO,UAAP,CANJ,CAQD,CATD,CAWAlC,SAAS,CAAC,UAAM,CACd,GAAIc,gBAAgB,GAAKqB,SAAzB,CAAqC,OAErC,GAAIrB,gBAAgB,CAACsB,MAAjB,GAA4B,cAAhC,CAAgD,2BAS1CtB,gBAAgB,CAACL,YATyB,CAE5C4B,SAF4C,uBAE5CA,SAF4C,CAG5CC,WAH4C,uBAG5CA,WAH4C,CAI5CC,SAJ4C,uBAI5CA,SAJ4C,CAK5CC,gBAL4C,uBAK5CA,gBAL4C,CAM5CjB,MAN4C,uBAM5CA,KAN4C,CAO5CE,MAP4C,uBAO5CA,KAP4C,CAQ5CgB,aAR4C,uBAQ5CA,aAR4C,CAW9CzB,WAAW,CAACuB,SAAD,CAAX,CACArB,aAAa,CAACoB,WAAD,CAAb,CACAlB,WAAW,CAACiB,SAAD,CAAX,CACAf,kBAAkB,CAACkB,gBAAD,CAAlB,CACAhB,QAAQ,CAACD,MAAD,CAAR,CACAG,QAAQ,CAACD,MAAD,CAAR,CACAG,eAAe,CAACa,aAAD,CAAf,CACD,CAlBD,IAkBO,CACL,cAAa,OAAb,EAAsB,CACpBC,OAAO,CAAE,QADW,CAEpBC,WAAW,CAAE,oCAFO,CAAtB,EAID,CACF,CA3BQ,CA2BN,CAAC7B,gBAAD,CA3BM,CAAT,CA6BA,mBACE,2BAAK,SAAS,CAAEZ,MAAM,CAAC0C,QAAvB,eACE,2BAAK,SAAS,CAAE1C,MAAM,CAAC2C,YAAvB,eAEE,yBACE,KAAK,CAAE,CACLC,QAAQ,CAAE,MADL,CAELC,UAAU,CAAE,QAFP,CADT,mBAMiBhC,QANjB,KAFF,CADF,cAYE,mCAAc,KAAK,CAAC,WAApB,CAAgC,QAAQ,KAAxC,eACE,kCAAc,IAAd,EAAmB,KAAK,CAAC,MAAzB,EAAiCA,QAAjC,CADF,cAEE,kCAAc,IAAd,EAAmB,KAAK,CAAC,WAAzB,QAFF,cAGE,kCAAc,IAAd,EAAmB,KAAK,CAAC,eAAzB,EAA0CY,QAA1C,CAHF,cAIE,kCAAc,IAAd,EAAmB,KAAK,CAAC,cAAzB,EAAyCJ,KAAzC,CAJF,cAKE,kCAAc,IAAd,EAAmB,KAAK,CAAC,eAAzB,CAAyC,IAAI,CAAE,CAA/C,EACGE,KADH,CALF,cAQE,kCAAc,IAAd,EAAmB,KAAK,CAAC,cAAzB,EAAyCR,UAAzC,CARF,cASE,kCAAc,IAAd,EAAmB,KAAK,CAAC,YAAzB,EAAuCE,QAAvC,CATF,cAUE,kCAAc,IAAd,EAAmB,KAAK,CAAC,cAAzB,EACGc,kBAAkB,CAACZ,eAAD,CADrB,CAVF,CAZF,cA0BE,2BAAK,SAAS,CAAEnB,MAAM,CAAC8C,WAAvB,eACE,4BAAO,KAAK,CAAC,QAAb,eACE,6BAAQ,IAAI,CAAC,SAAb,CAAuB,OAAO,CAAEnB,WAAhC,SADF,CADF,CA1BF,cAiCE,4BAAO,OAAO,CAAEjB,OAAhB,CAAyB,QAAQ,CAAEmB,YAAnC,CAAiD,IAAI,CAAED,QAAvD,eACE,oBAAC,iBAAD,MADF,CAjCF,CADF,CAuCD,CA1GD,CA4GA,cAAepB,CAAAA,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { UserOutlined } from \"@ant-design/icons\";\r\nimport { Descriptions, Button, Space, Modal, notification, Avatar } from \"antd\";\r\nimport styles from \"./Profile.module.less\";\r\nimport { getUserProfile } from \"../../../actions/user_profile\";\r\nimport { useDispatch, useMappedState } from \"redux-react-hook\";\r\nimport ProfileUpdateForm from \"./ProfileUpdateForm\";\r\n\r\nconst mapStateProfile = (state) => state.user_profile;\r\n\r\nconst ProfileContent = () => {\r\n  const dispatch = useDispatch();\r\n  const [visible, setVisible] = useState(false);\r\n  const { getProfileResult } = useMappedState(mapStateProfile);\r\n  const [fullName, setFullName] = useState();\r\n  const [validStart, setValidStart] = useState();\r\n  const [validEnd, setValidEnd] = useState();\r\n  const [membershipLevel, setMembershipLevel] = useState();\r\n  const [phone, setPhone] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [register, setRegisterTime] = useState();\r\n  const handleClick = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleOK = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserProfile({ user_id: 10 }));\r\n  }, [dispatch]);\r\n\r\n  const getMemberShipLevel = (level) => {\r\n    switch (level) {\r\n      case \"1\":\r\n        return \"Economy\";\r\n      case \"2\":\r\n        return \"Deluxe\";\r\n      case \"3\":\r\n        return \"Ultimate\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getProfileResult === undefined)  return;\r\n\r\n    if (getProfileResult.status === \"Successfully\") {\r\n      const {\r\n        valid_end,\r\n        valid_start,\r\n        full_name,\r\n        membership_level,\r\n        phone,\r\n        email,\r\n        register_time,\r\n      } = getProfileResult.user_profile;\r\n\r\n      setFullName(full_name);\r\n      setValidStart(valid_start);\r\n      setValidEnd(valid_end);\r\n      setMembershipLevel(membership_level);\r\n      setPhone(phone);\r\n      setEmail(email);\r\n      setRegisterTime(register_time);\r\n    } else {\r\n      notification[\"error\"]({\r\n        message: \"Failed\",\r\n        description: \"Failed to access the user profile!\",\r\n      });\r\n    }\r\n  }, [getProfileResult]);\r\n\r\n  return (\r\n    <div className={styles.cotainer}>\r\n      <div className={styles.avatar_title}>\r\n        {/* <Avatar size={64} icon={<UserOutlined />} />{\" \"} */}\r\n        <p\r\n          style={{\r\n            fontSize: \"34px\",\r\n            fontWeight: \"bolder\",\r\n          }}\r\n        >\r\n          Welcome back, {fullName}!\r\n        </p>\r\n      </div>\r\n      <Descriptions title=\"User Info\" bordered>\r\n        <Descriptions.Item label=\"Name\">{fullName}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Sexaulity\">Men</Descriptions.Item>\r\n        <Descriptions.Item label=\"Register Time\">{register}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Phone Number\">{phone}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Email Address\" span={2}>\r\n          {email}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"Member Start\">{validStart}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Member End\">{validEnd}</Descriptions.Item>\r\n        <Descriptions.Item label=\"Member Level\">\r\n          {getMemberShipLevel(membershipLevel)}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <div className={styles.edit_button}>\r\n        <Space align=\"center\">\r\n          <Button type=\"primary\" onClick={handleClick}>\r\n            Edit\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n      <Modal visible={visible} onCancel={handleCancel} onOk={handleOK}>\r\n        <ProfileUpdateForm />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileContent;\r\n"]},"metadata":{},"sourceType":"module"}