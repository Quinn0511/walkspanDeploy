{"ast":null,"code":"import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/modal/style\";import _Modal from\"antd/es/modal\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/list/style\";import _List from\"antd/es/list\";import _slicedToArray from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import styles from\"./WidgetContent.module.less\";import{useDispatch,useMappedState}from\"redux-react-hook\";import{getUserWidgetByUserID}from\"../../../actions/widget\";import WidgetBox from\"../../widgets/WidgetBox/widgetBox\";import WidgetBoxForUser from\"./WidgetBoxForUser\";import moment from\"moment\";import WidgetDescription from\"./WidgetDescription\";var mapStateWidget=function mapStateWidget(state){return state.widget;};var WidgetContent=function WidgetContent(){var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),user_id=_useState2[0],setUserId=_useState2[1];var _useMappedState=useMappedState(mapStateWidget),_useMappedState$userW=_useMappedState.userWidgetResult,userWidgetResult=_useMappedState$userW===void 0?{userWidget:[]}:_useMappedState$userW;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),widget_modal_visible=_useState4[0],setWidget_modal_visible=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),widget_ii_modal_visible=_useState6[0],setWidget_ii_modal_visible=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),description_modal_visible=_useState8[0],setDescription_modal_visible=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),featuresStatus=_useState10[0],setFeaturesStatus=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),featureScore=_useState12[0],setFeaturesScore=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),checkedViewOption=_useState14[0],setCheckedViewOption=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),scopeSelect=_useState16[0],setScopeSelect=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),addressInput=_useState18[0],setAddressInput=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),modalTitle=_useState20[0],setModalTtile=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),widgetItem=_useState22[0],setWidgetItem=_useState22[1];var userWidget=userWidgetResult.userWidget;useEffect(function(){if(localStorage.getItem(\"isLogin\")===JSON.stringify(false)||localStorage.getItem(\"isLogin\")===null){window.location.href=\"./login\";return;}setUserId(JSON.parse(localStorage.getItem(\"user_info\")).user_id);},[]);useEffect(function(){if(user_id===undefined)return;dispatch(getUserWidgetByUserID({user_id:user_id}));},[dispatch,user_id]);var handle_widget_Ok=function handle_widget_Ok(e){setWidget_modal_visible(false);};var handle_widget_Cancel=function handle_widget_Cancel(e){setWidget_modal_visible(false);};var handle_widget_ii_Ok=function handle_widget_ii_Ok(e){setWidget_ii_modal_visible(false);};var handle_widget_ii_Cancel=function handle_widget_ii_Cancel(e){setWidget_ii_modal_visible(false);};var handle_view_widget=function handle_view_widget(item){setModalTtile(item.widget_name);setFeaturesStatus(JSON.parse(item.selected_features));setFeaturesScore(JSON.parse(item.features_score));setCheckedViewOption(JSON.parse(item.checked_view));setScopeSelect(item.scope);setAddressInput(item.address);setWidget_modal_visible(true);};var handle_view_widget_ii=function handle_view_widget_ii(item){setModalTtile(item.widget_name);setFeaturesStatus(JSON.parse(item.selected_features));setFeaturesScore(JSON.parse(item.features_score));setCheckedViewOption(JSON.parse(item.checked_view));setScopeSelect(item.scope);setAddressInput(item.address);setWidget_ii_modal_visible(true);};var handle_desription_Ok=function handle_desription_Ok(e){setDescription_modal_visible(false);};var handle_desription_Cancel=function handle_desription_Cancel(e){setDescription_modal_visible(false);};var handle_view_description=function handle_view_description(item){setModalTtile(item.widget_name);setWidgetItem(item);setDescription_modal_visible(true);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(\"div\",{className:styles.title},\"My Customized Widget\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.subTitle},\"Active Products\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.widgetList},/*#__PURE__*/React.createElement(_List,{bordered:true,dataSource:userWidget,renderItem:function renderItem(item){return/*#__PURE__*/React.createElement(_List.Item,{actions:[/*#__PURE__*/React.createElement(\"p\",{key:\"list-loadmore-edit\",style:{color:\"#db6333\",fontWeight:\"bold\",cursor:\"pointer\"},onClick:function onClick(){return handle_view_description(item);}},\"View Parameters\"),/*#__PURE__*/React.createElement(\"p\",{key:\"list-viewWidget-more\",style:{color:\"#db6333\",fontWeight:\"bold\",cursor:\"pointer\"},onClick:function onClick(){return handle_view_widget(item);}},\"View Widget\"),/*#__PURE__*/React.createElement(\"p\",{key:\"list-viewWidget-ii-more\",style:{color:\"#db6333\",fontWeight:\"bold\",cursor:\"pointer\"},onClick:function onClick(){return handle_view_widget_ii(item);}},\"View Widget II\")]},/*#__PURE__*/React.createElement(_List.Item.Meta,{title:/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"bold\"}},item.widget_name),description:/*#__PURE__*/React.createElement(\"div\",null,item.widget_description,\" \",/*#__PURE__*/React.createElement(\"div\",{styles:{marginTop:\"3px\"}},/*#__PURE__*/React.createElement(\"span\",null,\"Published at\",\" \",/*#__PURE__*/React.createElement(\"em\",null,moment(item.created_at).format(\"YYYY-MM-DD HH:mm\")))))}));}})),/*#__PURE__*/React.createElement(\"div\",{className:styles.button},/*#__PURE__*/React.createElement(_Button,{className:styles.createButton,onClick:function onClick(){window.location.href=\"/widgets\";}},\"Create a New Widget\"))),/*#__PURE__*/React.createElement(_Modal,{title:modalTitle+\" Result\",visible:widget_modal_visible,width:800,onOk:handle_widget_Ok,onCancel:handle_widget_Cancel},/*#__PURE__*/React.createElement(WidgetBox,{features:featuresStatus,featureScore:featureScore,checkedView:checkedViewOption,scope:scopeSelect,addressInput:addressInput,isMyWidget:true})),/*#__PURE__*/React.createElement(_Modal,{title:modalTitle+\" Result\",visible:widget_ii_modal_visible,width:1400,onOk:handle_widget_ii_Ok,onCancel:handle_widget_ii_Cancel},/*#__PURE__*/React.createElement(_Row,{gutter:10},/*#__PURE__*/React.createElement(_Col,{span:12},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(WidgetBox,{features:featuresStatus,featureScore:featureScore,checkedView:checkedViewOption,scope:scopeSelect,addressInput:addressInput,isMyWidget:true})),/*#__PURE__*/React.createElement(_Col,{span:12},\" \",/*#__PURE__*/React.createElement(WidgetBoxForUser,{features:featuresStatus,featureScore:featureScore,checkedView:checkedViewOption,scope:scopeSelect,addressInput:addressInput,isMyWidget:true})))),/*#__PURE__*/React.createElement(_Modal,{title:modalTitle+\" Description\",visible:description_modal_visible,width:1000,onOk:handle_desription_Ok,onCancel:handle_desription_Cancel},/*#__PURE__*/React.createElement(WidgetDescription,{widgetInfo:widgetItem})));};export default WidgetContent;","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/pages/admin/component_of_control_panel/WidgetContent.js"],"names":["React","useEffect","useState","styles","useDispatch","useMappedState","getUserWidgetByUserID","WidgetBox","WidgetBoxForUser","moment","WidgetDescription","mapStateWidget","state","widget","WidgetContent","dispatch","user_id","setUserId","userWidgetResult","userWidget","widget_modal_visible","setWidget_modal_visible","widget_ii_modal_visible","setWidget_ii_modal_visible","description_modal_visible","setDescription_modal_visible","featuresStatus","setFeaturesStatus","featureScore","setFeaturesScore","checkedViewOption","setCheckedViewOption","scopeSelect","setScopeSelect","addressInput","setAddressInput","modalTitle","setModalTtile","widgetItem","setWidgetItem","localStorage","getItem","JSON","stringify","window","location","href","parse","undefined","handle_widget_Ok","e","handle_widget_Cancel","handle_widget_ii_Ok","handle_widget_ii_Cancel","handle_view_widget","item","widget_name","selected_features","features_score","checked_view","scope","address","handle_view_widget_ii","handle_desription_Ok","handle_desription_Cancel","handle_view_description","container","title","subTitle","widgetList","color","fontWeight","cursor","widget_description","marginTop","created_at","format","button","createButton"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport styles from \"./WidgetContent.module.less\";\r\nimport { List, Button, Modal, Row, Col } from \"antd\";\r\nimport { useDispatch, useMappedState } from \"redux-react-hook\";\r\nimport { getUserWidgetByUserID } from \"../../../actions/widget\";\r\nimport WidgetBox from \"../../widgets/WidgetBox/widgetBox\";\r\nimport WidgetBoxForUser from \"./WidgetBoxForUser\";\r\nimport moment from \"moment\";\r\nimport WidgetDescription from \"./WidgetDescription\";\r\n\r\nconst mapStateWidget = (state) => state.widget;\r\n\r\nconst WidgetContent = () => {\r\n  const dispatch = useDispatch();\r\n  const [user_id, setUserId] = useState();\r\n  const { userWidgetResult = { userWidget: [] } } = useMappedState(\r\n    mapStateWidget\r\n  );\r\n  const [widget_modal_visible, setWidget_modal_visible] = useState(false);\r\n  const [widget_ii_modal_visible, setWidget_ii_modal_visible] = useState(false);\r\n  const [description_modal_visible, setDescription_modal_visible] = useState(\r\n    false\r\n  );\r\n  const [featuresStatus, setFeaturesStatus] = useState();\r\n  const [featureScore, setFeaturesScore] = useState();\r\n  const [checkedViewOption, setCheckedViewOption] = useState();\r\n  const [scopeSelect, setScopeSelect] = useState();\r\n  const [addressInput, setAddressInput] = useState();\r\n  const [modalTitle, setModalTtile] = useState();\r\n  const [widgetItem, setWidgetItem] = useState();\r\n\r\n  const { userWidget } = userWidgetResult;\r\n\r\nuseEffect(()=>{\r\n  if (localStorage.getItem(\"isLogin\") === JSON.stringify(false) ||\r\n    localStorage.getItem(\"isLogin\") === null ) {\r\n      window.location.href=\"./login\"\r\n      return;\r\n    }\r\n  setUserId(JSON.parse(localStorage.getItem(\"user_info\")).user_id);\r\n}, [])\r\n\r\n  useEffect(() => {\r\n    if (user_id === undefined)\r\n      return;\r\n    dispatch(getUserWidgetByUserID({ user_id: user_id }));\r\n  }, [dispatch, user_id]);\r\n\r\n  const handle_widget_Ok = (e) => {\r\n    setWidget_modal_visible(false);\r\n  };\r\n\r\n  const handle_widget_Cancel = (e) => {\r\n    setWidget_modal_visible(false);\r\n  };\r\n\r\n  const handle_widget_ii_Ok = (e) => {\r\n    setWidget_ii_modal_visible(false);\r\n  };\r\n\r\n  const handle_widget_ii_Cancel = (e) => {\r\n    setWidget_ii_modal_visible(false);\r\n  };\r\n\r\n  const handle_view_widget = (item) => {\r\n    setModalTtile(item.widget_name);\r\n    setFeaturesStatus(JSON.parse(item.selected_features));\r\n    setFeaturesScore(JSON.parse(item.features_score));\r\n    setCheckedViewOption(JSON.parse(item.checked_view));\r\n    setScopeSelect(item.scope);\r\n    setAddressInput(item.address);\r\n\r\n    setWidget_modal_visible(true);\r\n  };\r\n\r\n  const handle_view_widget_ii = (item) => {\r\n    setModalTtile(item.widget_name);\r\n    setFeaturesStatus(JSON.parse(item.selected_features));\r\n    setFeaturesScore(JSON.parse(item.features_score));\r\n    setCheckedViewOption(JSON.parse(item.checked_view));\r\n    setScopeSelect(item.scope);\r\n    setAddressInput(item.address);\r\n\r\n    setWidget_ii_modal_visible(true);\r\n  };\r\n\r\n  const handle_desription_Ok = (e) => {\r\n    setDescription_modal_visible(false);\r\n  };\r\n\r\n  const handle_desription_Cancel = (e) => {\r\n    setDescription_modal_visible(false);\r\n  };\r\n\r\n  const handle_view_description = (item) => {\r\n    setModalTtile(item.widget_name);\r\n    setWidgetItem(item);\r\n    setDescription_modal_visible(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        <div className={styles.title}>My Customized Widget</div>\r\n\r\n        <div className={styles.subTitle}>Active Products</div>\r\n\r\n        <div className={styles.widgetList}>\r\n          <List\r\n            bordered\r\n            dataSource={userWidget}\r\n            renderItem={(item) => (\r\n              <List.Item\r\n                actions={[\r\n                  <p\r\n                    key=\"list-loadmore-edit\"\r\n                    style={{\r\n                      color: \"#db6333\",\r\n                      fontWeight: \"bold\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                    onClick={() => handle_view_description(item)}\r\n                  >\r\n                    View Parameters\r\n                  </p>,\r\n                  <p\r\n                    key=\"list-viewWidget-more\"\r\n                    style={{\r\n                      color: \"#db6333\",\r\n                      fontWeight: \"bold\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                    onClick={() => handle_view_widget(item)}\r\n                  >\r\n                    View Widget\r\n                  </p>,\r\n                  <p\r\n                    key=\"list-viewWidget-ii-more\"\r\n                    style={{\r\n                      color: \"#db6333\",\r\n                      fontWeight: \"bold\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                    onClick={() => handle_view_widget_ii(item)}\r\n                  >\r\n                    View Widget II\r\n                  </p>,\r\n                ]}\r\n              >\r\n                <List.Item.Meta\r\n                  title={\r\n                    <span style={{ fontWeight: \"bold\" }}>\r\n                      {item.widget_name}\r\n                    </span>\r\n                  }\r\n                  description={\r\n                    <div>\r\n                      {item.widget_description}{\" \"}\r\n                      <div\r\n                        styles={{\r\n                          marginTop: \"3px\",\r\n                        }}\r\n                      >\r\n                        <span>\r\n                          Published at{\" \"}\r\n                          <em>\r\n                            {moment(item.created_at).format(\"YYYY-MM-DD HH:mm\")}\r\n                          </em>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  }\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </div>\r\n        <div className={styles.button}>\r\n          <Button\r\n            className={styles.createButton}\r\n            onClick={() => {\r\n              window.location.href = \"/widgets\";\r\n            }}\r\n          >\r\n            Create a New Widget\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Modal\r\n        title={modalTitle + \" Result\"}\r\n        visible={widget_modal_visible}\r\n        width={800}\r\n        onOk={handle_widget_Ok}\r\n        onCancel={handle_widget_Cancel}\r\n      >\r\n        {/* <WidgetBoxForUser features={featuresStatus}\r\n          featureScore={featureScore}\r\n          checkedView={checkedViewOption}\r\n          scope={scopeSelect}\r\n          addressInput={addressInput}\r\n          isMyWidget={true}/> */}\r\n        <WidgetBox\r\n          features={featuresStatus}\r\n          featureScore={featureScore}\r\n          checkedView={checkedViewOption}\r\n          scope={scopeSelect}\r\n          addressInput={addressInput}\r\n          isMyWidget={true}\r\n        />\r\n      </Modal>\r\n\r\n      <Modal\r\n        title={modalTitle + \" Result\"}\r\n        visible={widget_ii_modal_visible}\r\n        width={1400}\r\n        onOk={handle_widget_ii_Ok}\r\n        onCancel={handle_widget_ii_Cancel}\r\n      >\r\n        <Row gutter={10}>\r\n          <Col span={12}>\r\n            <br />\r\n            <br />\r\n            <WidgetBox\r\n              features={featuresStatus}\r\n              featureScore={featureScore}\r\n              checkedView={checkedViewOption}\r\n              scope={scopeSelect}\r\n              addressInput={addressInput}\r\n              isMyWidget={true}\r\n            />\r\n          </Col>\r\n\r\n          <Col span={12}>\r\n            {\" \"}\r\n            <WidgetBoxForUser\r\n              features={featuresStatus}\r\n              featureScore={featureScore}\r\n              checkedView={checkedViewOption}\r\n              scope={scopeSelect}\r\n              addressInput={addressInput}\r\n              isMyWidget={true}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Modal>\r\n\r\n      <Modal\r\n        title={modalTitle + \" Description\"}\r\n        visible={description_modal_visible}\r\n        width={1000}\r\n        onOk={handle_desription_Ok}\r\n        onCancel={handle_desription_Cancel}\r\n      >\r\n        <WidgetDescription widgetInfo={widgetItem} />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WidgetContent;\r\n"]},"metadata":{},"sourceType":"module"}