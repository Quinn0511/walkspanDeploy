{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import*as api from\"../api/widget\";import{GET_WIDGET,GET_USER_WIDGET,ADD_USER_WIDGET}from\"../constants/actions\";export function getWidget(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result,widgetResult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.getWidget(params);case 2:result=_context.sent;// the data type would be: \n//\"GetPartDataJson({\"JSonDataFinal\":{\"Block\":{\"Nature\":\"1.00\",\"Interest\":\"3.00\",\"Architecture\":\"3.00...\"\n// to remove GetPartDataJson(\nwidgetResult=JSON.parse(result.slice(16,result.length-1));dispatch({type:GET_WIDGET,payload:{address:params.address,scores:widgetResult.JSonDataFinal}});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();}export function addUserWidget(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var widgetResult;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.addUserWidget(params);case 2:widgetResult=_context2.sent;dispatch({type:ADD_USER_WIDGET,payload:{result:widgetResult.result,status:widgetResult.status}});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();}export function getUserWidgetByUserID(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var result,id,userWidgets;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.getUserWidgetByID(params);case 2:result=_context3.sent;// the data type would be: \n//\"GetPartDataJson({\"JSonDataFinal\":{\"Block\":{\"Nature\":\"1.00\",\"Interest\":\"3.00\",\"Architecture\":\"3.00...\"\n// to remove GetPartDataJson(\nconsole.log(result);id=result.result[0].user_id;userWidgets=Object.values(result.result);dispatch({type:GET_USER_WIDGET,payload:{userId:id,userWidget:userWidgets}});case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();}","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/actions/widget.js"],"names":["api","GET_WIDGET","GET_USER_WIDGET","ADD_USER_WIDGET","getWidget","params","dispatch","result","widgetResult","JSON","parse","slice","length","type","payload","address","scores","JSonDataFinal","addUserWidget","status","getUserWidgetByUserID","getUserWidgetByID","console","log","id","user_id","userWidgets","Object","values","userId","userWidget"],"mappings":"2SAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,eAArB,CACA,OAASC,UAAT,CAAqBC,eAArB,CAAsCC,eAAtC,KAA6D,sBAA7D,CAEA,MAAO,SAASC,CAAAA,SAAT,EAAgC,IAAbC,CAAAA,MAAa,2DAAJ,EAAI,CACrC,+FAAO,iBAAOC,QAAP,gKACgBN,CAAAA,GAAG,CAACI,SAAJ,CAAcC,MAAd,CADhB,QACCE,MADD,eAEL;AACA;AACA;AACIC,YALC,CAKcC,IAAI,CAACC,KAAL,CAAWH,MAAM,CAACI,KAAP,CAAa,EAAb,CAAiBJ,MAAM,CAACK,MAAP,CAAc,CAA/B,CAAX,CALd,CAMLN,QAAQ,CAAC,CACPO,IAAI,CAAEZ,UADC,CAEPa,OAAO,CAAE,CACPC,OAAO,CAAEV,MAAM,CAACU,OADT,CAEPC,MAAM,CAAER,YAAY,CAACS,aAFd,CAFF,CAAD,CAAR,CANK,sDAAP,+DAcD,CAED,MAAO,SAASC,CAAAA,aAAT,EAAoC,IAAbb,CAAAA,MAAa,2DAAJ,EAAI,CACzC,gGAAO,kBAAOC,QAAP,8JACsBN,CAAAA,GAAG,CAACkB,aAAJ,CAAkBb,MAAlB,CADtB,QACCG,YADD,gBAELF,QAAQ,CAAC,CACPO,IAAI,CAAEV,eADC,CAEPW,OAAO,CAAE,CACPP,MAAM,CAAEC,YAAY,CAACD,MADd,CAEPY,MAAM,CAAEX,YAAY,CAACW,MAFd,CAFF,CAAD,CAAR,CAFK,wDAAP,iEAUD,CAGD,MAAO,SAASC,CAAAA,qBAAT,EAA4C,IAAbf,CAAAA,MAAa,2DAAJ,EAAI,CACjD,gGAAO,kBAAOC,QAAP,uKACgBN,CAAAA,GAAG,CAACqB,iBAAJ,CAAsBhB,MAAtB,CADhB,QACCE,MADD,gBAEL;AACA;AACA;AACAe,OAAO,CAACC,GAAR,CAAYhB,MAAZ,EACIiB,EANC,CAMIjB,MAAM,CAACA,MAAP,CAAc,CAAd,EAAiBkB,OANrB,CAODC,WAPC,CAOaC,MAAM,CAACC,MAAP,CAAcrB,MAAM,CAACA,MAArB,CAPb,CASLD,QAAQ,CAAC,CACPO,IAAI,CAAEX,eADC,CAEPY,OAAO,CAAE,CACPe,MAAM,CAAEL,EADD,CAEPM,UAAU,CAAEJ,WAFL,CAFF,CAAD,CAAR,CATK,wDAAP,iEAiBD","sourcesContent":["import * as api from \"../api/widget\";\r\nimport { GET_WIDGET, GET_USER_WIDGET, ADD_USER_WIDGET } from \"../constants/actions\";\r\n\r\nexport function getWidget(params = {}) {\r\n  return async (dispatch) => {\r\n    const result = await api.getWidget(params);\r\n    // the data type would be: \r\n    //\"GetPartDataJson({\"JSonDataFinal\":{\"Block\":{\"Nature\":\"1.00\",\"Interest\":\"3.00\",\"Architecture\":\"3.00...\"\r\n    // to remove GetPartDataJson(\r\n    var widgetResult = JSON.parse(result.slice(16, result.length-1));\r\n    dispatch({\r\n      type: GET_WIDGET,\r\n      payload: {\r\n        address: params.address,\r\n        scores: widgetResult.JSonDataFinal,\r\n      },\r\n    });\r\n  };\r\n}\r\n\r\nexport function addUserWidget(params = {}) {\r\n  return async (dispatch) => {\r\n    const widgetResult = await api.addUserWidget(params);\r\n    dispatch({\r\n      type: ADD_USER_WIDGET,\r\n      payload: {\r\n        result: widgetResult.result,\r\n        status: widgetResult.status,\r\n      },\r\n    });\r\n  };\r\n}\r\n\r\n\r\nexport function getUserWidgetByUserID(params = {}) {\r\n  return async (dispatch) => {\r\n    const result = await api.getUserWidgetByID(params);\r\n    // the data type would be: \r\n    //\"GetPartDataJson({\"JSonDataFinal\":{\"Block\":{\"Nature\":\"1.00\",\"Interest\":\"3.00\",\"Architecture\":\"3.00...\"\r\n    // to remove GetPartDataJson(\r\n    console.log(result);\r\n    let id = result.result[0].user_id;\r\n    let userWidgets = Object.values(result.result);\r\n    \r\n    dispatch({\r\n      type: GET_USER_WIDGET,\r\n      payload: {\r\n        userId: id,\r\n        userWidget: userWidgets,\r\n      },\r\n    });\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}