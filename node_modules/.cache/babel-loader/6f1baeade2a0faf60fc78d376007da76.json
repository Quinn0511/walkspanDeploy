{"ast":null,"code":"import\"antd/es/button/style\";import _Button from\"antd/es/button\";import _defineProperty from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _slicedToArray from\"F:\\\\Project\\\\walkspanDeploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import\"antd/es/notification/style\";import _notification from\"antd/es/notification\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import React,{useState,useEffect}from\"react\";import styles from\"./APIContent.module.less\";import APIDocument from\"../../api/apiDocument\";import{getAPIKEY}from\"../../../actions/get_apikey\";import{useDispatch,useMappedState}from\"redux-react-hook\";var mapStateApiKey=function mapStateApiKey(state){return state.api_key;};var Search=_Input.Search;var openNotification=function openNotification(){_notification.open({message:\"Successfully Copied\",description:\"The API Key was successfully copied to your clipboard\",onClick:function onClick(){// console.log(\"Notification Clicked!\");\n}});};var copyAPI=function copyAPI(){var copyText=document.querySelector(\".ant-input\");copyText.select();document.execCommand(\"copy\");openNotification();};var APIContent=function APIContent(){var dispatch=useDispatch();var _useMappedState=useMappedState(mapStateApiKey),ApiKeyResult=_useMappedState.ApiKeyResult;console.log(ApiKeyResult);var currentUserId=\"1\";var currentFirstName=\"abcdefg\";var currentLastName=\"1234567\";var _useState=useState(\"Your request will show here!\"),_useState2=_slicedToArray(_useState,2),requestInput=_useState2[0],setRequest=_useState2[1];var _useState3=useState(\"Api key response will show here!\"),_useState4=_slicedToArray(_useState3,2),responseInput=_useState4[0],setResponse=_useState4[1];var getRequestString=function getRequestString(){return\"http://127.0.0.1:8080/SenseOfWalkAPI_war/apikey_access?user_id=\"+\"1\"+\"&first_name=\"+\"abcdefg\"+\"&last_name=\"+\"1234567\";};var handleClick=function handleClick(props){setRequest(getRequestString());console.log(requestInput);setResponse(ApiKeyResult[\"status\"]==\"Successfully\"?JSON.stringify(ApiKeyResult):\"Something went wrong!\");};useEffect(function(){dispatch(getAPIKEY({user_id:\"1\",firstname:\"test\",lastname:\"1234567\"}));},[dispatch,currentUserId,currentFirstName,currentLastName]);var _useState5=useState(\"Your API Key will be here\"),_useState6=_slicedToArray(_useState5,2),apiKey=_useState6[0],setAPIKey=_useState6[1];return/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(\"div\",{className:styles.title},\"API\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.subTitle},\"Advanced Access\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.content},\"walking criteria. Defined from most to least walkable, sidewalk quality can be\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.subTitle},\"Your API\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.input},/*#__PURE__*/React.createElement(Search,_defineProperty({value:apiKey,enterButton:\"Copy\",size:\"large\",onSearch:copyAPI},\"size\",\"middle\"))),/*#__PURE__*/React.createElement(_Button,{onClick:handleClick},\"Test\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(APIDocument,null)));};export default APIContent;","map":{"version":3,"sources":["F:/Project/walkspanDeploy/src/pages/admin/component_of_control_panel/APIContent.js"],"names":["React","useState","useEffect","styles","APIDocument","getAPIKEY","useDispatch","useMappedState","mapStateApiKey","state","api_key","Search","openNotification","open","message","description","onClick","copyAPI","copyText","document","querySelector","select","execCommand","APIContent","dispatch","ApiKeyResult","console","log","currentUserId","currentFirstName","currentLastName","requestInput","setRequest","responseInput","setResponse","getRequestString","handleClick","props","JSON","stringify","user_id","firstname","lastname","apiKey","setAPIKey","container","title","subTitle","content","input"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./APIContent.module.less\";\r\nimport APIDocument from \"../../api/apiDocument\";\r\nimport { Input, notification, Button } from \"antd\";\r\nimport {getAPIKEY} from \"../../../actions/get_apikey\";\r\nimport {useDispatch, useMappedState} from \"redux-react-hook\";\r\n\r\n\r\nconst mapStateApiKey = (state) => state.api_key;\r\nconst { Search } = Input;\r\n\r\nconst openNotification = () => {\r\n  notification.open({\r\n    message: \"Successfully Copied\",\r\n    description: \"The API Key was successfully copied to your clipboard\",\r\n    onClick: () => {\r\n      // console.log(\"Notification Clicked!\");\r\n    },\r\n  });\r\n};\r\n\r\nconst copyAPI = () => {\r\n  var copyText = document.querySelector(\".ant-input\");\r\n  copyText.select();\r\n  document.execCommand(\"copy\");\r\n  openNotification();\r\n};\r\n\r\nconst APIContent = () => {\r\n  const dispatch = useDispatch();\r\n  \r\n  const {ApiKeyResult} = useMappedState(mapStateApiKey)\r\n  console.log(ApiKeyResult);\r\n  const currentUserId = \"1\";\r\n  const currentFirstName = \"abcdefg\";\r\n  const currentLastName = \"1234567\";\r\n  const [requestInput, setRequest] = useState(\"Your request will show here!\");\r\n  const [responseInput, setResponse] = useState(\"Api key response will show here!\")\r\n\r\n\r\n  const getRequestString = () => {\r\n    return (\r\n      \"http://127.0.0.1:8080/SenseOfWalkAPI_war/apikey_access?user_id=\" +\r\n      \"1\" +\r\n      \"&first_name=\" +\r\n      \"abcdefg\" +\r\n      \"&last_name=\" +\r\n      \"1234567\"\r\n    );\r\n  }\r\n\r\n  const handleClick = (props) =>{\r\n    setRequest(getRequestString());\r\n    console.log(requestInput);\r\n    setResponse(\r\n      ApiKeyResult[\"status\"] == \"Successfully\"\r\n      ? JSON.stringify(ApiKeyResult)\r\n      : \"Something went wrong!\"\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      getAPIKEY({\r\n        user_id: \"1\",\r\n        firstname: \"test\",\r\n        lastname: \"1234567\",\r\n      })\r\n    );\r\n  },[dispatch, currentUserId, currentFirstName, currentLastName]);\r\n\r\n\r\n  const [apiKey, setAPIKey] = useState(\"Your API Key will be here\");\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.title}>API</div>\r\n\r\n      <div className={styles.subTitle}>Advanced Access</div>\r\n\r\n      <div className={styles.content}>\r\n        walking criteria. Defined from most to least walkable, sidewalk quality\r\n        can be\r\n      </div>\r\n\r\n      <div className={styles.subTitle}>Your API</div>\r\n\r\n      <div className={styles.input}>\r\n        <Search\r\n          value={apiKey}\r\n          enterButton=\"Copy\"\r\n          size=\"large\"\r\n          onSearch={copyAPI}\r\n          size=\"middle\"\r\n        />\r\n      </div>\r\n      <Button onClick ={handleClick}>Test</Button>\r\n      <div>\r\n        <APIDocument />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default APIContent;\r\n"]},"metadata":{},"sourceType":"module"}